<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="meta.title">24ì‹œê°„ AI ìƒë‹´ - AI ì‚¬ì£¼ ì²œë…„ì§€ê¸°</title>
    <meta name="description" content="24ì‹œê°„ ì–¸ì œë“ ì§€ AIì™€ ì‹¤ì‹œê°„ìœ¼ë¡œ ì‚¬ì£¼, ìš´ì„¸, ê³ ë¯¼ ìƒë‹´. ë¬´ë£Œë¡œ ì´ìš© ê°€ëŠ¥!">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        /* ë„¤ë¹„ê²Œì´ì…˜ */
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
            padding: 1rem 0;
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .nav-brand {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-decoration: none;
        }
        
        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }
        
        .nav-menu a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .nav-menu a:hover {
            color: #667eea;
        }
        
        /* ì–¸ì–´ ì„ íƒê¸° */
        .language-switcher {
            position: relative;
        }
        
        .lang-btn {
            background: transparent;
            border: 2px solid #667eea;
            color: #667eea;
            padding: 8px 16px;
            border-radius: 25px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .lang-btn:hover {
            background: rgba(102, 126, 234, 0.1);
        }
        
        .lang-dropdown {
            position: absolute;
            top: 120%;
            right: 0;
            background: white;
            border: 2px solid #667eea;
            border-radius: 15px;
            min-width: 180px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s;
            z-index: 1000;
        }
        
        .lang-dropdown.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        
        .lang-option {
            width: 100%;
            padding: 12px 20px;
            border: none;
            background: white;
            text-align: left;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
            transition: all 0.2s;
            color: #333;
        }
        
        .lang-option:hover {
            background: rgba(102, 126, 234, 0.1);
        }
        
        .lang-option.active {
            background: rgba(102, 126, 234, 0.2);
            font-weight: 700;
            color: #667eea;
        }
        
        /* ì±„íŒ… ì»¨í…Œì´ë„ˆ */
        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            max-width: 900px;
            width: 100%;
            margin: 2rem auto;
            padding: 0 1rem;
        }
        
        /* ì±„íŒ… í—¤ë” */
        .chat-header {
            background: white;
            padding: 1.5rem;
            border-radius: 20px 20px 0 0;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .chat-header h1 {
            font-size: 1.8rem;
            color: #333;
            margin-bottom: 0.5rem;
        }
        
        .chat-header p {
            color: #666;
            font-size: 0.95rem;
        }
        
        .status-indicator {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 0.5rem;
            padding: 0.5rem 1rem;
            background: #e8f5e9;
            border-radius: 20px;
            font-size: 0.9rem;
            color: #2e7d32;
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            background: #4caf50;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* ì±„íŒ… ë©”ì‹œì§€ ì˜ì—­ */
        .chat-messages {
            flex: 1;
            background: white;
            padding: 2rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            min-height: 400px;
            max-height: 500px;
        }
        
        .message {
            display: flex;
            gap: 1rem;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .message.user {
            flex-direction: row-reverse;
        }
        
        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            flex-shrink: 0;
        }
        
        .message.ai .message-avatar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .message.user .message-avatar {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        
        .message-content {
            max-width: 70%;
            padding: 1rem 1.5rem;
            border-radius: 18px;
            line-height: 1.6;
        }
        
        .message.ai .message-content {
            background: #f5f5f5;
            color: #333;
            border-bottom-left-radius: 4px;
        }
        
        .message.user .message-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-bottom-right-radius: 4px;
        }
        
        .message-time {
            font-size: 0.75rem;
            color: #999;
            margin-top: 0.3rem;
        }
        
        /* ì…ë ¥ ì˜ì—­ */
        .chat-input {
            background: white;
            padding: 1.5rem;
            border-radius: 0 0 20px 20px;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.1);
            display: flex;
            gap: 1rem;
        }
        
        .input-wrapper {
            flex: 1;
            position: relative;
        }
        
        #messageInput {
            width: 100%;
            padding: 1rem 1.5rem;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 1rem;
            font-family: 'Noto Sans KR', sans-serif;
            transition: all 0.3s ease;
        }
        
        #messageInput:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        #sendButton {
            padding: 1rem 2rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        #sendButton:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }
        
        #sendButton:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* ë¹ ë¥¸ ì§ˆë¬¸ */
        .quick-questions {
            display: flex;
            gap: 0.8rem;
            flex-wrap: wrap;
            margin-bottom: 1rem;
            padding: 0 1rem;
        }
        
        .quick-btn {
            padding: 0.6rem 1.2rem;
            background: white;
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 20px;
            color: white;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .quick-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }
        
        /* ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ */
        .typing-indicator {
            display: none;
            padding: 1rem 1.5rem;
            background: #f5f5f5;
            border-radius: 18px;
            width: fit-content;
        }
        
        .typing-indicator.active {
            display: block;
        }
        
        .typing-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            background: #999;
            border-radius: 50%;
            margin: 0 2px;
            animation: typing 1.4s infinite;
        }
        
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }
        
        /* ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }
            
            .chat-container {
                margin: 1rem auto;
            }
            
            .message-content {
                max-width: 80%;
            }
            
            .quick-questions {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- ë„¤ë¹„ê²Œì´ì…˜ -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-brand">
                <i class="fas fa-yin-yang"></i> AI ì‚¬ì£¼ ì²œë…„ì§€ê¸°
            </a>
            <ul class="nav-menu">
                <li><a href="index.html" data-i18n="nav.home">í™ˆ</a></li>
                <li><a href="pricing.html" data-i18n="nav.pricing">ê°€ê²©í‘œ</a></li>
                <li><a href="mypage.html" data-i18n="nav.mypage">ë§ˆì´í˜ì´ì§€</a></li>
                <li><a href="login.html" data-i18n="nav.login">ë¡œê·¸ì¸</a></li>
            </ul>
            <div class="language-switcher">
                <button class="lang-btn" id="langBtn">
                    <span class="lang-flag" id="currentFlag">ğŸ‡°ğŸ‡·</span>
                    <span id="currentLang">í•œêµ­ì–´</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="lang-dropdown" id="langDropdown">
                    <button class="lang-option active" data-lang="ko">
                        <span class="lang-flag">ğŸ‡°ğŸ‡·</span> í•œêµ­ì–´
                        <i class="fas fa-check"></i>
                    </button>
                    <button class="lang-option" data-lang="en">
                        <span class="lang-flag">ğŸ‡ºğŸ‡¸</span> English
                    </button>
                    <button class="lang-option" data-lang="zh">
                        <span class="lang-flag">ğŸ‡¨ğŸ‡³</span> ä¸­æ–‡
                    </button>
                    <button class="lang-option" data-lang="ja">
                        <span class="lang-flag">ğŸ‡¯ğŸ‡µ</span> æ—¥æœ¬èª
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- ì±„íŒ… ì»¨í…Œì´ë„ˆ -->
    <div class="chat-container">
        <!-- ë¹ ë¥¸ ì§ˆë¬¸ -->
        <div class="quick-questions" id="quickQuestions">
            <button class="quick-btn" onclick="sendQuickQuestion(0)">
                <i class="fas fa-star"></i> <span data-i18n="quick.today">ì˜¤ëŠ˜ì˜ ìš´ì„¸</span>
            </button>
            <button class="quick-btn" onclick="sendQuickQuestion(1)">
                <i class="fas fa-coins"></i> <span data-i18n="quick.money">ê¸ˆì „ìš´</span>
            </button>
            <button class="quick-btn" onclick="sendQuickQuestion(2)">
                <i class="fas fa-heart"></i> <span data-i18n="quick.love">ì—°ì• ìš´</span>
            </button>
            <button class="quick-btn" onclick="sendQuickQuestion(3)">
                <i class="fas fa-heartbeat"></i> <span data-i18n="quick.health">ê±´ê°•ìš´</span>
            </button>
        </div>
        
        <!-- ì±„íŒ… í—¤ë” -->
        <div class="chat-header">
            <h1><i class="fas fa-robot"></i> <span data-i18n="header.title">24ì‹œê°„ AI ì‚¬ì£¼ ìƒë‹´</span></h1>
            <p data-i18n="header.description">ì–¸ì œë“ ì§€ í¸í•˜ê²Œ ì§ˆë¬¸í•˜ì„¸ìš”. AIê°€ 24ì‹œê°„ ì‹¤ì‹œê°„ìœ¼ë¡œ ë‹µë³€ë“œë¦½ë‹ˆë‹¤.</p>
            <div class="status-indicator">
                <span class="status-dot"></span>
                <span data-i18n="header.status">AI ìƒë‹´ì‚¬ ëŒ€ê¸° ì¤‘</span>
            </div>
        </div>
        
        <!-- ë©”ì‹œì§€ ì˜ì—­ -->
        <div class="chat-messages" id="chatMessages">
            <div class="typing-indicator" id="typingIndicator">
                <span class="typing-dot"></span>
                <span class="typing-dot"></span>
                <span class="typing-dot"></span>
            </div>
        </div>
        
        <!-- ì…ë ¥ ì˜ì—­ -->
        <div class="chat-input">
            <div class="input-wrapper">
                <input 
                    type="text" 
                    id="messageInput" 
                    data-i18n-placeholder="input.placeholder"
                    placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."
                    onkeypress="handleKeyPress(event)"
                >
            </div>
            <button id="sendButton" onclick="sendMessage()">
                <i class="fas fa-paper-plane"></i>
                <span data-i18n="input.send">ì „ì†¡</span>
            </button>
        </div>
    </div>

    <script>
        // ë‹¤êµ­ì–´ ë²ˆì—­ ë°ì´í„°
        const translations = {
            ko: {
                meta: { title: '24ì‹œê°„ AI ìƒë‹´ - AI ì‚¬ì£¼ ì²œë…„ì§€ê¸°' },
                nav: { home: 'í™ˆ', pricing: 'ê°€ê²©í‘œ', mypage: 'ë§ˆì´í˜ì´ì§€', login: 'ë¡œê·¸ì¸' },
                header: {
                    title: '24ì‹œê°„ AI ì‚¬ì£¼ ìƒë‹´',
                    description: 'ì–¸ì œë“ ì§€ í¸í•˜ê²Œ ì§ˆë¬¸í•˜ì„¸ìš”. AIê°€ 24ì‹œê°„ ì‹¤ì‹œê°„ìœ¼ë¡œ ë‹µë³€ë“œë¦½ë‹ˆë‹¤.',
                    status: 'AI ìƒë‹´ì‚¬ ëŒ€ê¸° ì¤‘'
                },
                quick: { today: 'ì˜¤ëŠ˜ì˜ ìš´ì„¸', money: 'ê¸ˆì „ìš´', love: 'ì—°ì• ìš´', health: 'ê±´ê°•ìš´' },
                input: { placeholder: 'ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”...', send: 'ì „ì†¡' },
                welcome: `ì•ˆë…•í•˜ì„¸ìš”! AI ì‚¬ì£¼ ìƒë‹´ì‚¬ì…ë‹ˆë‹¤. ğŸ˜Š<br>ìš´ì„¸, ì‚¬ì£¼, ê³ ë¯¼ ìƒë‹´ ë“± ë¬´ì—‡ì´ë“  í¸í•˜ê²Œ ë¬¼ì–´ë³´ì„¸ìš”!<br><br><strong>ğŸ“Œ ì´ëŸ° ê²ƒë“¤ì„ ë¬¼ì–´ë³¼ ìˆ˜ ìˆì–´ìš”:</strong><br>â€¢ ì˜¤ëŠ˜/ì´ë²ˆ ì£¼/ì´ë²ˆ ë‹¬ ìš´ì„¸<br>â€¢ ê¸ˆì „ìš´, ì—°ì• ìš´, ê±´ê°•ìš´, ì§ì—…ìš´<br>â€¢ ì¸ìƒ ê³ ë¯¼ ë° ì„ íƒ ì¡°ì–¸<br>â€¢ ê¶í•©, ì‘ëª…, íƒì¼ ë“±`,
                quickQuestions: ['ì˜¤ëŠ˜ì˜ ìš´ì„¸ê°€ ê¶ê¸ˆí•´ìš”', 'ê¸ˆì „ìš´ì´ ê¶ê¸ˆí•´ìš”', 'ì—°ì• ìš´ì´ ê¶ê¸ˆí•´ìš”', 'ê±´ê°•ìš´ì´ ê¶ê¸ˆí•´ìš”']
            },
            en: {
                meta: { title: '24/7 AI Consultation - AI Saju Millennium' },
                nav: { home: 'Home', pricing: 'Pricing', mypage: 'My Page', login: 'Login' },
                header: {
                    title: '24/7 AI Saju Consultation',
                    description: 'Ask anything, anytime. AI responds 24/7 in real-time.',
                    status: 'AI Consultant Available'
                },
                quick: { today: "Today's Fortune", money: 'Wealth', love: 'Love', health: 'Health' },
                input: { placeholder: 'Type your message...', send: 'Send' },
                welcome: `Hello! I'm your AI Saju consultant. ğŸ˜Š<br>Feel free to ask about fortune, destiny, or any concerns!<br><br><strong>ğŸ“Œ You can ask about:</strong><br>â€¢ Today/This week/This month's fortune<br>â€¢ Wealth, love, health, career fortune<br>â€¢ Life advice and decision making<br>â€¢ Compatibility, naming, auspicious dates`,
                quickQuestions: ["What's my fortune today?", "Tell me about my wealth luck", "How's my love fortune?", "What about my health?"]
            },
            zh: {
                meta: { title: '24å°æ—¶AIå’¨è¯¢ - AIå››æŸ±åƒå¹´çŸ¥å·±' },
                nav: { home: 'é¦–é¡µ', pricing: 'ä»·æ ¼', mypage: 'æˆ‘çš„ä¿¡æ¯', login: 'ç™»å½•' },
                header: {
                    title: '24å°æ—¶AIå››æŸ±å’¨è¯¢',
                    description: 'éšæ—¶æé—®ï¼ŒAI 24å°æ—¶å®æ—¶å›ç­”ã€‚',
                    status: 'AIé¡¾é—®å¾…å‘½ä¸­'
                },
                quick: { today: 'ä»Šæ—¥è¿åŠ¿', money: 'è´¢è¿', love: 'çˆ±æƒ…è¿', health: 'å¥åº·è¿' },
                input: { placeholder: 'è¾“å…¥æ¶ˆæ¯...', send: 'å‘é€' },
                welcome: `æ‚¨å¥½ï¼æˆ‘æ˜¯AIå››æŸ±å’¨è¯¢å¸ˆã€‚ğŸ˜Š<br>å…³äºè¿åŠ¿ã€å‘½è¿ã€çƒ¦æ¼ç­‰ï¼Œè¯·éšæ„è¯¢é—®ï¼<br><br><strong>ğŸ“Œ æ‚¨å¯ä»¥è¯¢é—®ï¼š</strong><br>â€¢ ä»Šå¤©/æœ¬å‘¨/æœ¬æœˆè¿åŠ¿<br>â€¢ è´¢è¿ã€çˆ±æƒ…è¿ã€å¥åº·è¿ã€äº‹ä¸šè¿<br>â€¢ äººç”Ÿå»ºè®®å’Œé€‰æ‹©<br>â€¢ åˆå©šã€èµ·åã€æ‹©æ—¥ç­‰`,
                quickQuestions: ['ä»Šå¤©çš„è¿åŠ¿å¦‚ä½•ï¼Ÿ', 'æˆ‘çš„è´¢è¿æ€ä¹ˆæ ·ï¼Ÿ', 'çˆ±æƒ…è¿å¦‚ä½•ï¼Ÿ', 'å¥åº·è¿åŠ¿å¥½å—ï¼Ÿ']
            },
            ja: {
                meta: { title: '24æ™‚é–“AIç›¸è«‡ - AIå››æŸ±åƒå¹´çŸ¥å·±' },
                nav: { home: 'ãƒ›ãƒ¼ãƒ ', pricing: 'ä¾¡æ ¼è¡¨', mypage: 'ãƒã‚¤ãƒšãƒ¼ã‚¸', login: 'ãƒ­ã‚°ã‚¤ãƒ³' },
                header: {
                    title: '24æ™‚é–“AIå››æŸ±ç›¸è«‡',
                    description: 'ã„ã¤ã§ã‚‚ãŠæ°—è»½ã«ã”è³ªå•ãã ã•ã„ã€‚AIãŒ24æ™‚é–“ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§å›ç­”ã—ã¾ã™ã€‚',
                    status: 'AIã‚³ãƒ³ã‚µãƒ«ã‚¿ãƒ³ãƒˆå¾…æ©Ÿä¸­'
                },
                quick: { today: 'ä»Šæ—¥ã®é‹å‹¢', money: 'é‡‘é‹', love: 'æ‹æ„›é‹', health: 'å¥åº·é‹' },
                input: { placeholder: 'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›...', send: 'é€ä¿¡' },
                welcome: `ã“ã‚“ã«ã¡ã¯ï¼AIå››æŸ±æ¨å‘½ã‚³ãƒ³ã‚µãƒ«ã‚¿ãƒ³ãƒˆã§ã™ã€‚ğŸ˜Š<br>é‹å‹¢ã€é‹å‘½ã€ãŠæ‚©ã¿ãªã©ã€ãŠæ°—è»½ã«ãŠå°‹ã­ãã ã•ã„ï¼<br><br><strong>ğŸ“Œ ã“ã‚“ãªã“ã¨ãŒèã‘ã¾ã™ï¼š</strong><br>â€¢ ä»Šæ—¥/ä»Šé€±/ä»Šæœˆã®é‹å‹¢<br>â€¢ é‡‘é‹ã€æ‹æ„›é‹ã€å¥åº·é‹ã€ä»•äº‹é‹<br>â€¢ äººç”Ÿã®æ‚©ã¿ã‚„é¸æŠã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹<br>â€¢ ç›¸æ€§ã€å‘½åã€å‰æ—¥é¸ã³ç­‰`,
                quickQuestions: ['ä»Šæ—¥ã®é‹å‹¢ã‚’æ•™ãˆã¦', 'é‡‘é‹ãŒçŸ¥ã‚ŠãŸã„', 'æ‹æ„›é‹ã¯ã©ã†ï¼Ÿ', 'å¥åº·é‹ã«ã¤ã„ã¦']
            }
        };

        const langData = {
            ko: { name: 'í•œêµ­ì–´', flag: 'ğŸ‡°ğŸ‡·' },
            en: { name: 'English', flag: 'ğŸ‡ºğŸ‡¸' },
            zh: { name: 'ä¸­æ–‡', flag: 'ğŸ‡¨ğŸ‡³' },
            ja: { name: 'æ—¥æœ¬èª', flag: 'ğŸ‡¯ğŸ‡µ' }
        };

        let currentLang = localStorage.getItem('saju_language') || 'ko';

        // ì–¸ì–´ ì—…ë°ì´íŠ¸
        function updateLanguage(lang) {
            currentLang = lang;
            localStorage.setItem('saju_language', lang);
            
            // í…ìŠ¤íŠ¸ ë²ˆì—­
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                const keys = key.split('.');
                let value = translations[lang];
                keys.forEach(k => value = value?.[k]);
                if (value) el.textContent = value;
            });
            
            // Placeholder ë²ˆì—­
            document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
                const key = el.getAttribute('data-i18n-placeholder');
                const keys = key.split('.');
                let value = translations[lang];
                keys.forEach(k => value = value?.[k]);
                if (value) el.placeholder = value;
            });
            
            // ì–¸ì–´ ì„ íƒê¸° ì—…ë°ì´íŠ¸
            document.getElementById('currentFlag').textContent = langData[lang].flag;
            document.getElementById('currentLang').textContent = langData[lang].name;
            
            document.querySelectorAll('.lang-option').forEach(opt => {
                opt.classList.remove('active');
                if (opt.getAttribute('data-lang') === lang) {
                    opt.classList.add('active');
                }
            });
            
            // ì±„íŒ… ì´ˆê¸°í™”
            initializeChat();
        }

        // ì–¸ì–´ ì„ íƒê¸° ì´ë²¤íŠ¸
        document.getElementById('langBtn').addEventListener('click', () => {
            document.getElementById('langDropdown').classList.toggle('active');
        });

        document.querySelectorAll('.lang-option').forEach(option => {
            option.addEventListener('click', (e) => {
                const lang = e.currentTarget.getAttribute('data-lang');
                updateLanguage(lang);
                document.getElementById('langDropdown').classList.remove('active');
            });
        });

        document.addEventListener('click', (e) => {
            if (!e.target.closest('.language-switcher')) {
                document.getElementById('langDropdown').classList.remove('active');
            }
        });

        // í˜„ì¬ ì‹œê°„ í¬ë§·
        function getCurrentTime() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            return `${hours}:${minutes}`;
        }

        // ë©”ì‹œì§€ ì¶”ê°€
        function addMessage(text, isUser = false) {
            const messagesDiv = document.getElementById('chatMessages');
            const typingIndicator = document.getElementById('typingIndicator');
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user' : 'ai'}`;
            
            const avatar = isUser ? 'ğŸ‘¤' : 'ğŸ¤–';
            
            messageDiv.innerHTML = `
                <div class="message-avatar">${avatar}</div>
                <div>
                    <div class="message-content">${text}</div>
                    <div class="message-time">${getCurrentTime()}</div>
                </div>
            `;
            
            messagesDiv.insertBefore(messageDiv, typingIndicator);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        // AI ì‘ë‹µ ìƒì„± (ë‹¤êµ­ì–´)
        function getAIResponse(userMessage) {
            const message = userMessage.toLowerCase();
            const lang = currentLang;
            
            const responses = {
                ko: {
                    today: `ì˜¤ëŠ˜ì€ ì „ë°˜ì ìœ¼ë¡œ ì¢‹ì€ ë‚ ì…ë‹ˆë‹¤! âœ¨<br><br><strong>ğŸŒŸ ê¸ˆì „ìš´:</strong> ì˜ˆìƒì¹˜ ëª»í•œ ì‘ì€ í–‰ìš´ì´ ìˆì„ ìˆ˜ ìˆì–´ìš”.<br><strong>ğŸ’– ì—°ì• ìš´:</strong> ì†”ì§í•œ ëŒ€í™”ê°€ ê´€ê³„ë¥¼ ë”ìš± ëˆë…í•˜ê²Œ ë§Œë“¤ ê±°ì˜ˆìš”.<br><strong>ğŸ’¼ ì§ì¥ìš´:</strong> ë™ë£Œë“¤ê³¼ì˜ í˜‘ë ¥ì´ ì¢‹ì€ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¬ ê²ƒì…ë‹ˆë‹¤.<br><strong>âš ï¸ ì£¼ì˜ì‚¬í•­:</strong> ì˜¤í›„ ì‹œê°„ëŒ€ì— ì¤‘ìš”í•œ ê²°ì •ì€ í”¼í•˜ì„¸ìš”.`,
                    money: `ğŸ’° ê¸ˆì „ìš´ì— ëŒ€í•´ ë§ì”€ë“œë¦´ê²Œìš”!<br><br>ìµœê·¼ ë“¤ì–´ ê¸ˆì „ìš´ì´ ìƒìŠ¹í•˜ëŠ” íë¦„ì…ë‹ˆë‹¤.<br>ì‘ì€ íˆ¬ìë‚˜ ìƒˆë¡œìš´ ë„ì „ì„ ê³ ë¯¼í•˜ì‹ ë‹¤ë©´ ì§€ê¸ˆì´ ì¢‹ì€ ì‹œê¸°ì˜ˆìš”.<br><br><strong>ğŸ’¡ ì¡°ì–¸:</strong><br>â€¢ ì¶©ë™ì ì¸ ì†Œë¹„ëŠ” ìì œí•˜ì„¸ìš”<br>â€¢ ì¥ê¸°ì ì¸ ì¬í…Œí¬ ê³„íšì„ ì„¸ìš°ì‹œë©´ ì¢‹ì•„ìš”<br>â€¢ ì´ë‹¬ ë§ê¹Œì§€ ê¸ˆì „ìš´ì´ ê³„ì† ìƒìŠ¹í•  ì˜ˆì •ì…ë‹ˆë‹¤`,
                    love: `ğŸ’• ì—°ì• ìš´ì— ëŒ€í•´ ì•Œë ¤ë“œë¦´ê²Œìš”!<br><br>í˜„ì¬ ì—°ì• ìš´ì´ ë§¤ìš° ì¢‹ì€ ì‹œê¸°ì…ë‹ˆë‹¤!<br>ì†”ë¡œë¼ë©´ ìƒˆë¡œìš´ ë§Œë‚¨ì˜ ê¸°íšŒê°€ ê³§ ì°¾ì•„ì˜¬ ê±°ì˜ˆìš”.<br>ì—°ì¸ì´ ìˆë‹¤ë©´ ê´€ê³„ê°€ í•œ ë‹¨ê³„ ë” ê¹Šì–´ì§ˆ ìˆ˜ ìˆì–´ìš”.<br><br><strong>ğŸ’¡ ì¡°ì–¸:</strong><br>â€¢ ì ê·¹ì ìœ¼ë¡œ ë‚˜ì„œë³´ì„¸ìš”<br>â€¢ ì†”ì§í•œ ê°ì • í‘œí˜„ì´ ì¤‘ìš”í•´ìš”<br>â€¢ ë‹¤ìŒ ì£¼ë§ì´ íŠ¹íˆ ì¢‹ì€ ë‚ ì…ë‹ˆë‹¤`,
                    health: `ğŸ’ª ê±´ê°•ìš´ì— ëŒ€í•´ ë§ì”€ë“œë¦´ê²Œìš”!<br><br>ì „ë°˜ì ìœ¼ë¡œ ê±´ê°• ìƒíƒœê°€ ì–‘í˜¸í•©ë‹ˆë‹¤.<br>ë‹¤ë§Œ ìµœê·¼ í”¼ë¡œê°€ ìŒ“ì—¬ìˆì„ ìˆ˜ ìˆìœ¼ë‹ˆ ì¶©ë¶„í•œ íœ´ì‹ì´ í•„ìš”í•´ìš”.<br><br><strong>ğŸ’¡ ì¡°ì–¸:</strong><br>â€¢ ê·œì¹™ì ì¸ ìš´ë™ì„ ì‹œì‘í•˜ì„¸ìš”<br>â€¢ ìˆ˜ë©´ ì‹œê°„ì„ ì¶©ë¶„íˆ í™•ë³´í•˜ì„¸ìš”<br>â€¢ ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ì— ì‹ ê²½ ì“°ì„¸ìš”`,
                    default: `ì§ˆë¬¸ ê°ì‚¬í•©ë‹ˆë‹¤! ğŸ˜Š<br><br>ë” ì •í™•í•œ ë‹µë³€ì„ ìœ„í•´ êµ¬ì²´ì ìœ¼ë¡œ ì§ˆë¬¸í•´ì£¼ì‹œë©´ ì¢‹ì•„ìš”.<br>ì˜ˆë¥¼ ë“¤ì–´:<br>â€¢ "ì˜¤ëŠ˜ì˜ ìš´ì„¸ê°€ ê¶ê¸ˆí•´ìš”"<br>â€¢ "ê¸ˆì „ìš´ì„ ì•Œê³  ì‹¶ì–´ìš”"<br>â€¢ "ì—°ì• ìš´ì´ ê¶ê¸ˆí•©ë‹ˆë‹¤"<br><br>ë˜ëŠ” ìœ„ì˜ ë¹ ë¥¸ ì§ˆë¬¸ ë²„íŠ¼ì„ í´ë¦­í•´ë³´ì„¸ìš”!`
                },
                en: {
                    today: `Today is a great day overall! âœ¨<br><br><strong>ğŸŒŸ Wealth:</strong> Unexpected small luck may come your way.<br><strong>ğŸ’– Love:</strong> Honest conversation will strengthen your relationship.<br><strong>ğŸ’¼ Career:</strong> Cooperation with colleagues will bring good results.<br><strong>âš ï¸ Caution:</strong> Avoid important decisions in the afternoon.`,
                    money: `ğŸ’° About your wealth fortune!<br><br>Your financial luck is on the rise recently.<br>If you're considering small investments or new challenges, now is a good time.<br><br><strong>ğŸ’¡ Advice:</strong><br>â€¢ Avoid impulsive spending<br>â€¢ Make long-term financial plans<br>â€¢ Your wealth luck will continue to rise until the end of this month`,
                    love: `ğŸ’• About your love fortune!<br><br>Your love luck is excellent right now!<br>Singles may soon meet someone special.<br>Couples can deepen their relationship.<br><br><strong>ğŸ’¡ Advice:</strong><br>â€¢ Be proactive<br>â€¢ Express your feelings honestly<br>â€¢ Next weekend is especially auspicious`,
                    health: `ğŸ’ª About your health fortune!<br><br>Your overall health condition is good.<br>However, you may have accumulated fatigue, so sufficient rest is needed.<br><br><strong>ğŸ’¡ Advice:</strong><br>â€¢ Start regular exercise<br>â€¢ Get enough sleep<br>â€¢ Pay attention to stress management`,
                    default: `Thank you for your question! ğŸ˜Š<br><br>For more accurate answers, please be specific.<br>For example:<br>â€¢ "What's my fortune today?"<br>â€¢ "Tell me about my wealth luck"<br>â€¢ "How's my love fortune?"<br><br>Or try the quick question buttons above!`
                },
                zh: {
                    today: `ä»Šå¤©æ€»ä½“æ¥è¯´æ˜¯ä¸ªå¥½æ—¥å­ï¼âœ¨<br><br><strong>ğŸŒŸ è´¢è¿ï¼š</strong>å¯èƒ½ä¼šæœ‰æ„æƒ³ä¸åˆ°çš„å°å¹¸è¿ã€‚<br><strong>ğŸ’– çˆ±æƒ…è¿ï¼š</strong>å¦è¯šçš„å¯¹è¯ä¼šè®©å…³ç³»æ›´åŠ ç¨³å›ºã€‚<br><strong>ğŸ’¼ äº‹ä¸šè¿ï¼š</strong>ä¸åŒäº‹çš„åˆä½œä¼šå¸¦æ¥å¥½ç»“æœã€‚<br><strong>âš ï¸ æ³¨æ„ï¼š</strong>é¿å…åœ¨ä¸‹åˆæ—¶æ®µåšé‡è¦å†³å®šã€‚`,
                    money: `ğŸ’° å…³äºæ‚¨çš„è´¢è¿ï¼<br><br>æœ€è¿‘è´¢è¿å‘ˆä¸Šå‡è¶‹åŠ¿ã€‚<br>å¦‚æœæ‚¨æ­£åœ¨è€ƒè™‘å°é¢æŠ•èµ„æˆ–æ–°çš„æŒ‘æˆ˜ï¼Œç°åœ¨æ˜¯ä¸ªå¥½æ—¶æœºã€‚<br><br><strong>ğŸ’¡ å»ºè®®ï¼š</strong><br>â€¢ é¿å…å†²åŠ¨æ¶ˆè´¹<br>â€¢ åˆ¶å®šé•¿æœŸç†è´¢è®¡åˆ’<br>â€¢ æœ¬æœˆåº•ä¹‹å‰è´¢è¿å°†æŒç»­ä¸Šå‡`,
                    love: `ğŸ’• å…³äºæ‚¨çš„çˆ±æƒ…è¿ï¼<br><br>ç›®å‰çˆ±æƒ…è¿éå¸¸å¥½ï¼<br>å•èº«è€…å¯èƒ½å¾ˆå¿«ä¼šé‡åˆ°ç‰¹åˆ«çš„äººã€‚<br>æœ‰ä¼´ä¾£çš„å¯ä»¥åŠ æ·±å…³ç³»ã€‚<br><br><strong>ğŸ’¡ å»ºè®®ï¼š</strong><br>â€¢ ä¸»åŠ¨å‡ºå‡»<br>â€¢ è¯šå®è¡¨è¾¾æ„Ÿæƒ…<br>â€¢ ä¸‹ä¸ªå‘¨æœ«ç‰¹åˆ«å‰åˆ©`,
                    health: `ğŸ’ª å…³äºæ‚¨çš„å¥åº·è¿ï¼<br><br>æ•´ä½“å¥åº·çŠ¶å†µè‰¯å¥½ã€‚<br>ä½†æœ€è¿‘å¯èƒ½ç§¯ç´¯äº†ç–²åŠ³ï¼Œéœ€è¦å……åˆ†ä¼‘æ¯ã€‚<br><br><strong>ğŸ’¡ å»ºè®®ï¼š</strong><br>â€¢ å¼€å§‹å®šæœŸè¿åŠ¨<br>â€¢ ä¿è¯å……è¶³ç¡çœ <br>â€¢ æ³¨æ„å‹åŠ›ç®¡ç†`,
                    default: `æ„Ÿè°¢æ‚¨çš„æé—®ï¼ğŸ˜Š<br><br>ä¸ºäº†æ›´å‡†ç¡®çš„å›ç­”ï¼Œè¯·å…·ä½“è¯´æ˜ã€‚<br>ä¾‹å¦‚ï¼š<br>â€¢ "ä»Šå¤©çš„è¿åŠ¿å¦‚ä½•ï¼Ÿ"<br>â€¢ "æˆ‘çš„è´¢è¿æ€ä¹ˆæ ·ï¼Ÿ"<br>â€¢ "çˆ±æƒ…è¿å¦‚ä½•ï¼Ÿ"<br><br>æˆ–è€…ç‚¹å‡»ä¸Šæ–¹çš„å¿«é€Ÿæé—®æŒ‰é’®ï¼`
                },
                ja: {
                    today: `ä»Šæ—¥ã¯å…¨ä½“çš„ã«è‰¯ã„æ—¥ã§ã™ï¼âœ¨<br><br><strong>ğŸŒŸ é‡‘é‹ï¼š</strong>äºˆæƒ³å¤–ã®å°ã•ãªå¹¸é‹ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚<br><strong>ğŸ’– æ‹æ„›é‹ï¼š</strong>æ­£ç›´ãªä¼šè©±ãŒé–¢ä¿‚ã‚’ã‚ˆã‚Šå¼·å›ºã«ã—ã¾ã™ã€‚<br><strong>ğŸ’¼ ä»•äº‹é‹ï¼š</strong>åŒåƒšã¨ã®å”åŠ›ãŒè‰¯ã„çµæœã‚’ã‚‚ãŸã‚‰ã™ã§ã—ã‚‡ã†ã€‚<br><strong>âš ï¸ æ³¨æ„ï¼š</strong>åˆå¾Œã®æ™‚é–“å¸¯ã«é‡è¦ãªæ±ºå®šã¯é¿ã‘ã¦ãã ã•ã„ã€‚`,
                    money: `ğŸ’° é‡‘é‹ã«ã¤ã„ã¦ãŠä¼ãˆã—ã¾ã™ï¼<br><br>æœ€è¿‘é‡‘é‹ãŒä¸Šæ˜‡å‚¾å‘ã«ã‚ã‚Šã¾ã™ã€‚<br>å°é¡æŠ•è³‡ã‚„æ–°ã—ã„æŒ‘æˆ¦ã‚’è€ƒãˆã¦ã„ã‚‹ãªã‚‰ã€ä»ŠãŒè‰¯ã„æ™‚æœŸã§ã™ã€‚<br><br><strong>ğŸ’¡ ã‚¢ãƒ‰ãƒã‚¤ã‚¹ï¼š</strong><br>â€¢ è¡å‹•çš„ãªæ”¯å‡ºã¯æ§ãˆã¾ã—ã‚‡ã†<br>â€¢ é•·æœŸçš„ãªè³‡ç”£é‹ç”¨è¨ˆç”»ã‚’ç«‹ã¦ã¾ã—ã‚‡ã†<br>â€¢ ä»Šæœˆæœ«ã¾ã§é‡‘é‹ã¯ä¸Šæ˜‡ã—ç¶šã‘ã¾ã™`,
                    love: `ğŸ’• æ‹æ„›é‹ã«ã¤ã„ã¦ãŠä¼ãˆã—ã¾ã™ï¼<br><br>ç¾åœ¨æ‹æ„›é‹ãŒéå¸¸ã«è‰¯ã„æ™‚æœŸã§ã™ï¼<br>ã‚·ãƒ³ã‚°ãƒ«ãªã‚‰ç‰¹åˆ¥ãªäººã¨ã®å‡ºä¼šã„ãŒè¿‘ã„ã§ã—ã‚‡ã†ã€‚<br>ã‚«ãƒƒãƒ—ãƒ«ãªã‚‰é–¢ä¿‚ãŒã•ã‚‰ã«æ·±ã¾ã‚Šã¾ã™ã€‚<br><br><strong>ğŸ’¡ ã‚¢ãƒ‰ãƒã‚¤ã‚¹ï¼š</strong><br>â€¢ ç©æ¥µçš„ã«è¡Œå‹•ã—ã¾ã—ã‚‡ã†<br>â€¢ æ­£ç›´ã«æ°—æŒã¡ã‚’è¡¨ç¾ã—ã¾ã—ã‚‡ã†<br>â€¢ æ¥é€±æœ«ãŒç‰¹ã«è‰¯ã„æ—¥ã§ã™`,
                    health: `ğŸ’ª å¥åº·é‹ã«ã¤ã„ã¦ãŠä¼ãˆã—ã¾ã™ï¼<br><br>å…¨ä½“çš„ã«å¥åº·çŠ¶æ…‹ã¯è‰¯å¥½ã§ã™ã€‚<br>ãŸã ã—æœ€è¿‘ç–²åŠ´ãŒè“„ç©ã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã€ååˆ†ãªä¼‘æ¯ãŒå¿…è¦ã§ã™ã€‚<br><br><strong>ğŸ’¡ ã‚¢ãƒ‰ãƒã‚¤ã‚¹ï¼š</strong><br>â€¢ å®šæœŸçš„ãªé‹å‹•ã‚’å§‹ã‚ã¾ã—ã‚‡ã†<br>â€¢ ååˆ†ãªç¡çœ ã‚’ç¢ºä¿ã—ã¾ã—ã‚‡ã†<br>â€¢ ã‚¹ãƒˆãƒ¬ã‚¹ç®¡ç†ã«æ°—ã‚’ä»˜ã‘ã¾ã—ã‚‡ã†`,
                    default: `ã”è³ªå•ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼ğŸ˜Š<br><br>ã‚ˆã‚Šæ­£ç¢ºãªå›ç­”ã®ãŸã‚ã€å…·ä½“çš„ã«ãŠèããã ã•ã„ã€‚<br>ä¾‹ãˆã°ï¼š<br>â€¢ "ä»Šæ—¥ã®é‹å‹¢ã‚’æ•™ãˆã¦"<br>â€¢ "é‡‘é‹ãŒçŸ¥ã‚ŠãŸã„"<br>â€¢ "æ‹æ„›é‹ã¯ã©ã†ï¼Ÿ"<br><br>ã¾ãŸã¯ä¸Šã®è³ªå•ãƒœã‚¿ãƒ³ã‚’ãŠè©¦ã—ãã ã•ã„ï¼`
                }
            };
            
            if (message.includes('today') || message.includes('ì˜¤ëŠ˜') || message.includes('ä»Šå¤©') || message.includes('ä»Šæ—¥')) {
                return responses[lang].today;
            }
            if (message.includes('money') || message.includes('ê¸ˆì „') || message.includes('ì¬ë¬¼') || message.includes('è´¢') || message.includes('é‡‘é‹')) {
                return responses[lang].money;
            }
            if (message.includes('love') || message.includes('ì—°ì• ') || message.includes('ì‚¬ë‘') || message.includes('çˆ±æƒ…') || message.includes('æ‹æ„›')) {
                return responses[lang].love;
            }
            if (message.includes('health') || message.includes('ê±´ê°•') || message.includes('å¥åº·')) {
                return responses[lang].health;
            }
            
            return responses[lang].default;
        }

        // ë©”ì‹œì§€ ì „ì†¡
        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            addMessage(message, true);
            input.value = '';
            
            input.disabled = true;
            document.getElementById('sendButton').disabled = true;
            
            const typingIndicator = document.getElementById('typingIndicator');
            typingIndicator.classList.add('active');
            
            setTimeout(() => {
                typingIndicator.classList.remove('active');
                const response = getAIResponse(message);
                addMessage(response, false);
                
                input.disabled = false;
                document.getElementById('sendButton').disabled = false;
                input.focus();
            }, 1000 + Math.random() * 1000);
        }

        // ë¹ ë¥¸ ì§ˆë¬¸
        function sendQuickQuestion(index) {
            const questions = translations[currentLang].quickQuestions;
            document.getElementById('messageInput').value = questions[index];
            sendMessage();
        }

        // ì—”í„°í‚¤ ì²˜ë¦¬
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // ì±„íŒ… ì´ˆê¸°í™”
        function initializeChat() {
            const messagesDiv = document.getElementById('chatMessages');
            const typingIndicator = document.getElementById('typingIndicator');
            
            // ê¸°ì¡´ ë©”ì‹œì§€ ì œê±° (íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„° ì œì™¸)
            while (messagesDiv.firstChild && messagesDiv.firstChild !== typingIndicator) {
                messagesDiv.removeChild(messagesDiv.firstChild);
            }
            
            // í™˜ì˜ ë©”ì‹œì§€ ì¶”ê°€
            const welcomeMsg = document.createElement('div');
            welcomeMsg.className = 'message ai';
            welcomeMsg.innerHTML = `
                <div class="message-avatar">ğŸ¤–</div>
                <div>
                    <div class="message-content">${translations[currentLang].welcome}</div>
                    <div class="message-time">${getCurrentTime()}</div>
                </div>
            `;
            messagesDiv.insertBefore(welcomeMsg, typingIndicator);
        }

        // í˜ì´ì§€ ë¡œë“œ
        window.onload = function() {
            updateLanguage(currentLang);
            document.getElementById('messageInput').focus();
        };
    </script>
</body>
</html>
