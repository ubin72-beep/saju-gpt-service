 1	<!DOCTYPE html>
     2	<html lang="ko">
     3	<head>
     4	    <meta charset="UTF-8">
     5	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     6	    <title>ê¶í•© ë¶„ì„ - AI ì‚¬ì£¼ ì²œë…„ì§€ê¸°</title>
     7	    <meta name="description" content="ì—°ì• , ê²°í˜¼, ì‚¬ì—… ê¶í•©ì„ ì •ë°€í•˜ê²Œ ë¶„ì„í•©ë‹ˆë‹¤. ì‚¬ì£¼ ê¸°ë°˜ ìƒì„± í™•ì¸">
     8	    
     9	    <!-- ìŠ¤íƒ€ì¼ì‹œíŠ¸ -->
    10	    <link rel="stylesheet" href="css/style.css">
    11	    <link rel="stylesheet" href="css/result.css">
    12	    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&family=Noto+Serif+KR:wght@400;700&display=swap" rel="stylesheet">
    13	    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    14	    
    15	    <style>
    16	        .compatibility-hero {
    17	            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    18	            padding: 4rem 0;
    19	            color: white;
    20	            text-align: center;
    21	        }
    22	        
    23	        .compatibility-hero h1 {
    24	            font-size: 2.5rem;
    25	            margin-bottom: 1rem;
    26	        }
    27	        
    28	        .compatibility-hero p {
    29	            font-size: 1.2rem;
    30	            opacity: 0.9;
    31	        }
    32	        
    33	        .compatibility-form {
    34	            background: white;
    35	            border-radius: 20px;
    36	            padding: 3rem;
    37	            margin: -2rem auto 3rem;
    38	            max-width: 900px;
    39	            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
    40	        }
    41	        
    42	        .form-section {
    43	            margin-bottom: 2rem;
    44	        }
    45	        
    46	        .form-section h3 {
    47	            font-size: 1.3rem;
    48	            margin-bottom: 1.5rem;
    49	            color: #333;
    50	            display: flex;
    51	            align-items: center;
    52	            gap: 0.5rem;
    53	        }
    54	        
    55	        .person-icon {
    56	            font-size: 1.5rem;
    57	        }
    58	        
    59	        .form-row {
    60	            display: grid;
    61	            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    62	            gap: 1.5rem;
    63	            margin-bottom: 1.5rem;
    64	        }
    65	        
    66	        .form-group {
    67	            display: flex;
    68	            flex-direction: column;
    69	        }
    70	        
    71	        .form-group label {
    72	            font-weight: 500;
    73	            margin-bottom: 0.5rem;
    74	            color: #555;
    75	        }
    76	        
    77	        .form-group input,
    78	        .form-group select {
    79	            padding: 0.8rem;
    80	            border: 2px solid #e0e0e0;
    81	            border-radius: 8px;
    82	            font-size: 1rem;
    83	            transition: border-color 0.3s;
    84	        }
    85	        
    86	        .form-group input:focus,
    87	        .form-group select:focus {
    88	            outline: none;
    89	            border-color: #667eea;
    90	        }
    91	        
    92	        .analysis-type-selector {
    93	            display: grid;
    94	            grid-template-columns: repeat(3, 1fr);
    95	            gap: 1rem;
    96	            margin-bottom: 2rem;
    97	        }
    98	        
    99	        .type-card {
   100	            background: #f8f9fa;
   101	            border: 3px solid transparent;
   102	            border-radius: 15px;
   103	            padding: 1.5rem;
   104	            text-align: center;
   105	            cursor: pointer;
   106	            transition: all 0.3s;
   107	        }
   108	        
   109	        .type-card:hover {
   110	            background: #e9ecef;
   111	            transform: translateY(-3px);
   112	        }
   113	        
   114	        .type-card.active {
   115	            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
   116	            color: white;
   117	            border-color: #667eea;
   118	        }
   119	        
   120	        .type-card .icon {
   121	            font-size: 2.5rem;
   122	            margin-bottom: 0.5rem;
   123	        }
   124	        
   125	        .type-card h4 {
   126	            font-size: 1.1rem;
   127	            margin-bottom: 0.5rem;
   128	        }
   129	        
   130	        .type-card p {
   131	            font-size: 0.9rem;
   132	            opacity: 0.8;
   133	        }
   134	        
   135	        .btn-analyze {
   136	            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
   137	            color: white;
   138	            border: none;
   139	            padding: 1.2rem 3rem;
   140	            font-size: 1.2rem;
   141	            font-weight: 600;
   142	            border-radius: 50px;
   143	            cursor: pointer;
   144	            width: 100%;
   145	            transition: transform 0.3s;
   146	        }
   147	        
   148	        .btn-analyze:hover {
   149	            transform: scale(1.05);
   150	        }
   151	        
   152	        .compatibility-result {
   153	            display: none;
   154	            max-width: 900px;
   155	            margin: 0 auto;
   156	            padding: 2rem 0;
   157	        }
   158	        
   159	        .result-header {
   160	            text-align: center;
   161	            margin-bottom: 3rem;
   162	        }
   163	        
   164	        .compatibility-score {
   165	            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
   166	            color: white;
   167	            border-radius: 20px;
   168	            padding: 3rem;
   169	            text-align: center;
   170	            margin-bottom: 3rem;
   171	        }
   172	        
   173	        .score-circle {
   174	            width: 200px;
   175	            height: 200px;
   176	            border-radius: 50%;
   177	            background: rgba(255,255,255,0.2);
   178	            display: flex;
   179	            align-items: center;
   180	            justify-content: center;
   181	            margin: 0 auto 2rem;
   182	            font-size: 4rem;
   183	            font-weight: 700;
   184	        }
   185	        
   186	        .score-label {
   187	            font-size: 1.5rem;
   188	            margin-top: 1rem;
   189	        }
   190	        
   191	        .analysis-section {
   192	            background: white;
   193	            border-radius: 15px;
   194	            padding: 2rem;
   195	            margin-bottom: 2rem;
   196	            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
   197	        }
   198	        
   199	        .analysis-section h3 {
   200	            font-size: 1.5rem;
   201	            margin-bottom: 1.5rem;
   202	            display: flex;
   203	            align-items: center;
   204	            gap: 0.5rem;
   205	        }
   206	        
   207	        .strength-list,
   208	        .weakness-list {
   209	            list-style: none;
   210	            padding: 0;
   211	        }
   212	        
   213	        .strength-list li,
   214	        .weakness-list li {
   215	            padding: 0.8rem 0;
   216	            border-bottom: 1px solid #f0f0f0;
   217	            display: flex;
   218	            align-items: start;
   219	            gap: 0.5rem;
   220	        }
   221	        
   222	        .strength-list li:before {
   223	            content: "âœ“";
   224	            color: #4caf50;
   225	            font-weight: bold;
   226	            font-size: 1.2rem;
   227	        }
   228	        
   229	        .weakness-list li:before {
   230	            content: "!";
   231	            color: #ff5252;
   232	            font-weight: bold;
   233	            font-size: 1.2rem;
   234	            background: #ffebee;
   235	            width: 24px;
   236	            height: 24px;
   237	            border-radius: 50%;
   238	            display: flex;
   239	            align-items: center;
   240	            justify-content: center;
   241	        }
   242	        
   243	        .advice-box {
   244	            background: #f0f7ff;
   245	            border-left: 4px solid #667eea;
   246	            padding: 1.5rem;
   247	            border-radius: 10px;
   248	            margin-top: 1.5rem;
   249	        }
   250	        
   251	        .advice-box h4 {
   252	            color: #667eea;
   253	            margin-bottom: 1rem;
   254	        }
   255	        
   256	        @media (max-width: 768px) {
   257	            .compatibility-hero h1 {
   258	                font-size: 1.8rem;
   259	            }
   260	            
   261	            .compatibility-form {
   262	                padding: 2rem 1.5rem;
   263	                margin: -1rem 1rem 2rem;
   264	            }
   265	            
   266	            .analysis-type-selector {
   267	                grid-template-columns: 1fr;
   268	            }
   269	            
   270	            .score-circle {
   271	                width: 150px;
   272	                height: 150px;
   273	                font-size: 3rem;
   274	            }
   275	        }
   276	    </style>
   277	</head>
   278	<body>
   279	    <!-- ë„¤ë¹„ê²Œì´ì…˜ -->
   280	    <nav class="navbar">
   281	        <div class="container">
   282	            <div class="logo">
   283	                <i class="fas fa-yin-yang"></i> AI ì‚¬ì£¼ ì²œë…„ì§€ê¸°
   284	            </div>
   285	            <ul class="nav-menu">
   286	                <li><a href="index.html">í™ˆ</a></li>
   287	                <li><a href="result.html">ë‚´ ì‚¬ì£¼</a></li>
   288	                <li><a href="ai-chat.html">AI ìƒë‹´</a></li>
   289	                <li><a href="compatibility.html" class="active">ê¶í•©</a></li>
   290	                <li><a href="pricing.html">í”„ë¦¬ë¯¸ì—„</a></li>
   291	                <li><a href="mypage.html">ë§ˆì´í˜ì´ì§€</a></li>
   292	            </ul>
   293	            <div class="nav-actions">
   294	                <a href="login.html" class="btn-login">ë¡œê·¸ì¸</a>
   295	            </div>
   296	        </div>
   297	    </nav>
   298	
   299	    <!-- íˆì–´ë¡œ ì„¹ì…˜ -->
   300	    <section class="compatibility-hero">
   301	        <div class="container">
   302	            <h1>ğŸ’• ê¶í•© ë¶„ì„</h1>
   303	            <p>ì‚¬ì£¼ ê¸°ë°˜ ì •ë°€ ìƒì„± ë¶„ì„ìœ¼ë¡œ ë‘ ì‚¬ëŒì˜ ê´€ê³„ë¥¼ í™•ì¸í•˜ì„¸ìš”</p>
   304	        </div>
   305	    </section>
   306	
   307	    <!-- ê¶í•© ì…ë ¥ í¼ -->
   308	    <div class="container">
   309	        <div class="compatibility-form">
   310	            <h2 style="text-align: center; margin-bottom: 2rem;">ë‘ ë¶„ì˜ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</h2>
   311	            
   312	            <!-- ë¶„ì„ ìœ í˜• ì„ íƒ -->
   313	            <div class="analysis-type-selector">
   314	                <div class="type-card active" data-type="love">
   315	                    <div class="icon">ğŸ’—</div>
   316	                    <h4>ì—°ì•  ê¶í•©</h4>
   317	                    <p>ì—°ì¸ ì‚¬ì´ì˜ ìƒì„±</p>
   318	                </div>
   319	                <div class="type-card" data-type="marriage">
   320	                    <div class="icon">ğŸ’</div>
   321	                    <h4>ê²°í˜¼ ê¶í•©</h4>
   322	                    <p>í‰ìƒ ë™ë°˜ì ìƒì„±</p>
   323	                </div>
   324	                <div class="type-card" data-type="business">
   325	                    <div class="icon">ğŸ’¼</div>
   326	                    <h4>ì‚¬ì—… ê¶í•©</h4>
   327	                    <p>ë¹„ì¦ˆë‹ˆìŠ¤ íŒŒíŠ¸ë„ˆ ìƒì„±</p>
   328	                </div>
   329	            </div>
   330	
   331	            <form id="compatibilityForm">
   332	                <!-- ì²« ë²ˆì§¸ ì‚¬ëŒ -->
   333	                <div class="form-section">
   334	                    <h3><span class="person-icon">ğŸ‘¤</span> ì²« ë²ˆì§¸ ë¶„</h3>
   335	                    <div class="form-row">
   336	                        <div class="form-group">
   337	                            <label for="person1Name">ì´ë¦„</label>
   338	                            <input type="text" id="person1Name" placeholder="í™ê¸¸ë™" required>
   339	                        </div>
   340	                        <div class="form-group">
   341	                            <label for="person1Gender">ì„±ë³„</label>
   342	                            <select id="person1Gender" required>
   343	                                <option value="male">ë‚¨ì„±</option>
   344	                                <option value="female">ì—¬ì„±</option>
   345	                            </select>
   346	                        </div>
   347	                    </div>
   348	                    <div class="form-row">
   349	                        <div class="form-group">
   350	                            <label for="person1Year">ìƒë…„</label>
   351	                            <input type="number" id="person1Year" placeholder="1990" min="1900" max="2024" required>
   352	                        </div>
   353	                        <div class="form-group">
   354	                            <label for="person1Month">ìƒì›”</label>
   355	                            <input type="number" id="person1Month" placeholder="5" min="1" max="12" required>
   356	                        </div>
   357	                        <div class="form-group">
   358	                            <label for="person1Day">ìƒì¼</label>
   359	                            <input type="number" id="person1Day" placeholder="15" min="1" max="31" required>
   360	                        </div>
   361	                        <div class="form-group">
   362	                            <label for="person1Hour">ìƒì‹œ (ì‹œ)</label>
   363	                            <input type="number" id="person1Hour" placeholder="14" min="0" max="23">
   364	                        </div>
   365	                    </div>
   366	                    <div class="form-row">
   367	                        <div class="form-group">
   368	                            <label for="person1Calendar">ì–‘ë ¥/ìŒë ¥</label>
   369	                            <select id="person1Calendar" required>
   370	                                <option value="solar">ì–‘ë ¥</option>
   371	                                <option value="lunar">ìŒë ¥</option>
   372	                            </select>
   373	                        </div>
   374	                        <div class="form-group">
   375	                            <label for="person1Leap">ìœ¤ë‹¬ ì—¬ë¶€</label>
   376	                            <select id="person1Leap">
   377	                                <option value="false">í‰ë‹¬</option>
   378	                                <option value="true">ìœ¤ë‹¬</option>
   379	                            </select>
   380	                        </div>
   381	                    </div>
   382	                </div>
   383	
   384	                <!-- ë‘ ë²ˆì§¸ ì‚¬ëŒ -->
   385	                <div class="form-section">
   386	                    <h3><span class="person-icon">ğŸ‘¤</span> ë‘ ë²ˆì§¸ ë¶„</h3>
   387	                    <div class="form-row">
   388	                        <div class="form-group">
   389	                            <label for="person2Name">ì´ë¦„</label>
   390	                            <input type="text" id="person2Name" placeholder="ê¹€ì˜í¬" required>
   391	                        </div>
   392	                        <div class="form-group">
   393	                            <label for="person2Gender">ì„±ë³„</label>
   394	                            <select id="person2Gender" required>
   395	                                <option value="male">ë‚¨ì„±</option>
   396	                                <option value="female">ì—¬ì„±</option>
   397	                            </select>
   398	                        </div>
   399	                    </div>
   400	                    <div class="form-row">
   401	                        <div class="form-group">
   402	                            <label for="person2Year">ìƒë…„</label>
   403	                            <input type="number" id="person2Year" placeholder="1992" min="1900" max="2024" required>
   404	                        </div>
   405	                        <div class="form-group">
   406	                            <label for="person2Month">ìƒì›”</label>
   407	                            <input type="number" id="person2Month" placeholder="8" min="1" max="12" required>
   408	                        </div>
   409	                        <div class="form-group">
   410	                            <label for="person2Day">ìƒì¼</label>
   411	                            <input type="number" id="person2Day" placeholder="20" min="1" max="31" required>
   412	                        </div>
   413	                        <div class="form-group">
   414	                            <label for="person2Hour">ìƒì‹œ (ì‹œ)</label>
   415	                            <input type="number" id="person2Hour" placeholder="10" min="0" max="23">
   416	                        </div>
   417	                    </div>
   418	                    <div class="form-row">
   419	                        <div class="form-group">
   420	                            <label for="person2Calendar">ì–‘ë ¥/ìŒë ¥</label>
   421	                            <select id="person2Calendar" required>
   422	                                <option value="solar">ì–‘ë ¥</option>
   423	                                <option value="lunar">ìŒë ¥</option>
   424	                            </select>
   425	                        </div>
   426	                        <div class="form-group">
   427	                            <label for="person2Leap">ìœ¤ë‹¬ ì—¬ë¶€</label>
   428	                            <select id="person2Leap">
   429	                                <option value="false">í‰ë‹¬</option>
   430	                                <option value="true">ìœ¤ë‹¬</option>
   431	                            </select>
   432	                        </div>
   433	                    </div>
   434	                </div>
   435	
   436	                <button type="submit" class="btn-analyze">
   437	                    <i class="fas fa-heart"></i> ê¶í•© ë¶„ì„í•˜ê¸°
   438	                </button>
   439	            </form>
   440	        </div>
   441	
   442	        <!-- ë¶„ì„ ê²°ê³¼ -->
   443	        <div class="compatibility-result" id="resultSection">
   444	            <div class="result-header">
   445	                <h2 id="resultTitle">ì—°ì•  ê¶í•© ë¶„ì„ ê²°ê³¼</h2>
   446	                <p id="resultSubtitle">í™ê¸¸ë™ â™¥ ê¹€ì˜í¬</p>
   447	            </div>
   448	
   449	            <!-- ê¶í•© ì ìˆ˜ -->
   450	            <div class="compatibility-score">
   451	                <div class="score-circle" id="scoreCircle">85ì </div>
   452	                <div class="score-label" id="scoreLabel">ë§¤ìš° ì¢‹ì€ ê¶í•©ì…ë‹ˆë‹¤!</div>
   453	                <p id="scoreDescription">ë‘ ë¶„ì€ ì„œë¡œë¥¼ ì˜ ì´í•´í•˜ê³  ë°°ë ¤í•  ìˆ˜ ìˆëŠ” ì¢‹ì€ ìƒì„±ì…ë‹ˆë‹¤.</p>
   454	            </div>
   455	
   456	            <!-- ì¥ì  ë¶„ì„ -->
   457	            <div class="analysis-section">
   458	                <h3><i class="fas fa-check-circle" style="color: #4caf50;"></i> ê¶í•©ì˜ ì¥ì </h3>
   459	                <ul class="strength-list" id="strengthList">
   460	                    <li>ì˜¤í–‰ì˜ ê· í˜•ì´ ì˜ ë§ì•„ ì„œë¡œë¥¼ ë³´ì™„í•´ì¤ë‹ˆë‹¤</li>
   461	                    <li>ì„±ê²©ì´ ì˜ ë§ì•„ ê°ˆë“±ì´ ì ì„ ê²ƒì…ë‹ˆë‹¤</li>
   462	                    <li>ê¸ˆì „ì ì¸ ë©´ì—ì„œ ì„œë¡œ ë„ì›€ì´ ë©ë‹ˆë‹¤</li>
   463	                </ul>
   464	            </div>
   465	
   466	            <!-- ì£¼ì˜ì‚¬í•­ -->
   467	            <div class="analysis-section">
   468	                <h3><i class="fas fa-exclamation-circle" style="color: #ff5252;"></i> ì£¼ì˜í•  ì </h3>
   469	                <ul class="weakness-list" id="weaknessList">
   470	                    <li>ê°€ë” ì˜ê²¬ ì¶©ëŒì´ ìˆì„ ìˆ˜ ìˆìœ¼ë‹ˆ ëŒ€í™”ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤</li>
   471	                    <li>ì„œë¡œì˜ ì°¨ì´ë¥¼ ì¡´ì¤‘í•˜ëŠ” ìì„¸ê°€ í•„ìš”í•©ë‹ˆë‹¤</li>
   472	                </ul>
   473	            </div>
   474	
   475	            <!-- ì¡°ì–¸ -->
   476	            <div class="analysis-section">
   477	                <h3><i class="fas fa-lightbulb" style="color: #ffc107;"></i> ê´€ê³„ ê°œì„  ì¡°ì–¸</h3>
   478	                <div class="advice-box">
   479	                    <h4>ğŸ’¡ ì´ë ‡ê²Œ í•´ë³´ì„¸ìš”</h4>
   480	                    <p id="adviceText">
   481	                        ì„œë¡œì˜ ì¥ì ì„ ì¸ì •í•˜ê³  ë‹¨ì ì€ ë³´ì™„í•´ì£¼ëŠ” ìì„¸ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤. 
   482	                        ì •ê¸°ì ì¸ ëŒ€í™” ì‹œê°„ì„ ê°€ì§€ê³  ì„œë¡œì˜ ìƒê°ì„ ê³µìœ í•˜ì„¸ìš”.
   483	                        ì‘ì€ ë°°ë ¤ì™€ ê´€ì‹¬ì´ í° í–‰ë³µì„ ë§Œë“­ë‹ˆë‹¤.
   484	                    </p>
   485	                </div>
   486	            </div>
   487	        </div>
   488	    </div>
   489	
   490	    <!-- í‘¸í„° -->
   491	    <footer class="footer">
   492	        <div class="container">
   493	            <div class="footer-content">
   494	                <div class="footer-section">
   495	                    <h3>AI ì‚¬ì£¼ ì²œë…„ì§€ê¸°</h3>
   496	                    <p>ì •í†µ ì‚¬ì£¼íŒ”ìì™€ AIê°€ ë§Œë‚˜ë‹¤</p>
   497	                </div>
   498	                <div class="footer-section">
   499	                    <h4>ì„œë¹„ìŠ¤</h4>
   500	                    <ul>
   501	                        <li><a href="index.html">ì‚¬ì£¼íŒ”ì</a></li>
   502	                        <li><a href="ai-chat.html">AI ìƒë‹´</a></li>
   503	                        <li><a href="taekil.html">íƒì¼</a></li>
   504	                        <li><a href="compatibility.html">ê¶í•©</a></li>
   505	                    </ul>
   506	                </div>
   507	                <div class="footer-section">
   508	                    <h4>ê³ ê°ì§€ì›</h4>
   509	                    <ul>
   510	                        <li><a href="faq.html">FAQ</a></li>
   511	                        <li><a href="terms.html">ì´ìš©ì•½ê´€</a></li>
   512	                        <li><a href="privacy.html">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a></li>
   513	                    </ul>
   514	                </div>
   515	            </div>
   516	            <div class="footer-bottom">
   517	                <p>&copy; 2026 Saju2026. All rights reserved.</p>
   518	            </div>
   519	        </div>
   520	    </footer>
   521	
   522	    <!-- ìë°”ìŠ¤í¬ë¦½íŠ¸ -->
   523	    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
   524	    <script src="https://cdn.jsdelivr.net/npm/lunar-javascript@1.6.12/lunar.min.js"></script>
   525	    <script src="js/page-handler.js"></script>
   526	    <script src="js/saju-calculator.js"></script>
   527	    <script>
   528	        let selectedType = 'love';
   529	
   530	        // ë¶„ì„ ìœ í˜• ì„ íƒ
   531	        document.querySelectorAll('.type-card').forEach(card => {
   532	            card.addEventListener('click', function() {
   533	                document.querySelectorAll('.type-card').forEach(c => c.classList.remove('active'));
   534	                this.classList.add('active');
   535	                selectedType = this.dataset.type;
   536	            });
   537	        });
   538	
   539	        // ê¶í•© ë¶„ì„ í¼ ì œì¶œ
   540	        document.getElementById('compatibilityForm').addEventListener('submit', function(e) {
   541	            e.preventDefault();
   542	            analyzeCompatibility();
   543	        });
   544	
   545	        function analyzeCompatibility() {
   546	            // ë°ì´í„° ìˆ˜ì§‘
   547	            const person1 = {
   548	                name: document.getElementById('person1Name').value,
   549	                gender: document.getElementById('person1Gender').value,
   550	                year: parseInt(document.getElementById('person1Year').value),
   551	                month: parseInt(document.getElementById('person1Month').value),
   552	                day: parseInt(document.getElementById('person1Day').value),
   553	                hour: parseInt(document.getElementById('person1Hour').value) || 12,
   554	                calendar: document.getElementById('person1Calendar').value,
   555	                isLeapMonth: document.getElementById('person1Leap').value === 'true'
   556	            };
   557	
   558	            const person2 = {
   559	                name: document.getElementById('person2Name').value,
   560	                gender: document.getElementById('person2Gender').value,
   561	                year: parseInt(document.getElementById('person2Year').value),
   562	                month: parseInt(document.getElementById('person2Month').value),
   563	                day: parseInt(document.getElementById('person2Day').value),
   564	                hour: parseInt(document.getElementById('person2Hour').value) || 12,
   565	                calendar: document.getElementById('person2Calendar').value,
   566	                isLeapMonth: document.getElementById('person2Leap').value === 'true'
   567	            };
   568	
   569	            // ì‚¬ì£¼ ê³„ì‚°
   570	            const saju1 = calculateSaju(person1);
   571	            const saju2 = calculateSaju(person2);
   572	
   573	            // ê¶í•© ì ìˆ˜ ê³„ì‚° (ê°„ë‹¨í•œ ì•Œê³ ë¦¬ì¦˜)
   574	            const score = calculateCompatibilityScore(saju1, saju2, selectedType);
   575	
   576	            // ê²°ê³¼ í‘œì‹œ
   577	            displayCompatibilityResult(person1, person2, score, selectedType);
   578	
   579	            // ê²°ê³¼ ì„¹ì…˜ìœ¼ë¡œ ìŠ¤í¬ë¡¤
   580	            document.getElementById('resultSection').style.display = 'block';
   581	            document.getElementById('resultSection').scrollIntoView({ behavior: 'smooth' });
   582	        }
   583	
   584	        function calculateCompatibilityScore(saju1, saju2, type) {
   585	            let score = 50; // ê¸°ë³¸ ì ìˆ˜
   586	
   587	            // ì¼ì£¼ ì˜¤í–‰ ìƒìƒ/ìƒê·¹ ì²´í¬
   588	            const element1 = getElementFromStem(saju1.pillars.day.heavenlyStem);
   589	            const element2 = getElementFromStem(saju2.pillars.day.heavenlyStem);
   590	
   591	            // ìƒìƒ ê´€ê³„ (+20)
   592	            const shengRelations = {
   593	                'æœ¨': 'ç«', 'ç«': 'åœŸ', 'åœŸ': 'é‡‘', 'é‡‘': 'æ°´', 'æ°´': 'æœ¨'
   594	            };
   595	            if (shengRelations[element1] === element2 || shengRelations[element2] === element1) {
   596	                score += 20;
   597	            }
   598	
   599	            // ê°™ì€ ì˜¤í–‰ (+10)
   600	            if (element1 === element2) {
   601	                score += 10;
   602	            }
   603	
   604	            // ìƒê·¹ ê´€ê³„ (-10)
   605	            const keRelations = {
   606	                'æœ¨': 'åœŸ', 'åœŸ': 'æ°´', 'æ°´': 'ç«', 'ç«': 'é‡‘', 'é‡‘': 'æœ¨'
   607	            };
   608	            if (keRelations[element1] === element2 || keRelations[element2] === element1) {
   609	                score -= 10;
   610	            }
   611	
   612	            // ì§€ì§€ í•© ì²´í¬ (+15)
   613	            const earthlyBranches1 = [
   614	                saju1.pillars.year.earthlyBranch,
   615	                saju1.pillars.month.earthlyBranch,
   616	                saju1.pillars.day.earthlyBranch,
   617	                saju1.pillars.hour.earthlyBranch
   618	            ];
   619	            const earthlyBranches2 = [
   620	                saju2.pillars.year.earthlyBranch,
   621	                saju2.pillars.month.earthlyBranch,
   622	                saju2.pillars.day.earthlyBranch,
   623	                saju2.pillars.hour.earthlyBranch
   624	            ];
   625	
   626	            // ìœ¡í•©, ì‚¼í•© ì²´í¬
   627	            const hexCombos = [
   628	                ['å­', 'ä¸‘'], ['å¯…', 'äº¥'], ['å¯', 'æˆŒ'], ['è¾°', 'é…‰'], ['å·³', 'ç”³'], ['åˆ', 'æœª']
   629	            ];
   630	            
   631	            for (let b1 of earthlyBranches1) {
   632	                for (let b2 of earthlyBranches2) {
   633	                    for (let combo of hexCombos) {
   634	                        if ((combo[0] === b1 && combo[1] === b2) || (combo[1] === b1 && combo[0] === b2)) {
   635	                            score += 15;
   636	                        }
   637	                    }
   638	                }
   639	            }
   640	
   641	            // ì¶© ì²´í¬ (-15)
   642	            const conflicts = [
   643	                ['å­', 'åˆ'], ['ä¸‘', 'æœª'], ['å¯…', 'ç”³'], ['å¯', 'é…‰'], ['è¾°', 'æˆŒ'], ['å·³', 'äº¥']
   644	            ];
   645	            
   646	            for (let b1 of earthlyBranches1) {
   647	                for (let b2 of earthlyBranches2) {
   648	                    for (let conflict of conflicts) {
   649	                        if ((conflict[0] === b1 && conflict[1] === b2) || (conflict[1] === b1 && conflict[0] === b2)) {
   650	                            score -= 15;
   651	                        }
   652	                    }
   653	                }
   654	            }
   655	
   656	            // íƒ€ì…ë³„ ì¡°ì •
   657	            if (type === 'marriage') {
   658	                // ê²°í˜¼ì€ ì¥ê¸°ì  ì•ˆì •ì„± ì¤‘ì‹œ
   659	                score += Math.random() * 10 - 5;
   660	            } else if (type === 'business') {
   661	                // ì‚¬ì—…ì€ ìƒí˜¸ ë³´ì™„ì„± ì¤‘ì‹œ
   662	                score += Math.random() * 10 - 5;
   663	            }
   664	
   665	            // ì ìˆ˜ ë²”ìœ„ ì¡°ì •
   666	            score = Math.max(0, Math.min(100, Math.round(score)));
   667	
   668	            return score;
   669	        }
   670	
   671	        function getElementFromStem(stem) {
   672	            const elementMap = {
   673	                'ç”²': 'æœ¨', 'ä¹™': 'æœ¨',
   674	                'ä¸™': 'ç«', 'ä¸': 'ç«',
   675	                'æˆŠ': 'åœŸ', 'å·±': 'åœŸ',
   676	                'åºš': 'é‡‘', 'è¾›': 'é‡‘',
   677	                'å£¬': 'æ°´', 'ç™¸': 'æ°´'
   678	            };
   679	            return elementMap[stem] || 'åœŸ';
   680	        }
   681	
   682	        function displayCompatibilityResult(person1, person2, score, type) {
   683	            // íƒ€ì´í‹€ ì„¤ì •
   684	            const titles = {
   685	                'love': 'ğŸ’— ì—°ì•  ê¶í•© ë¶„ì„',
   686	                'marriage': 'ğŸ’ ê²°í˜¼ ê¶í•© ë¶„ì„',
   687	                'business': 'ğŸ’¼ ì‚¬ì—… ê¶í•© ë¶„ì„'
   688	            };
   689	            document.getElementById('resultTitle').textContent = titles[type];
   690	            document.getElementById('resultSubtitle').textContent = `${person1.name} â™¥ ${person2.name}`;
   691	
   692	            // ì ìˆ˜ í‘œì‹œ
   693	            document.getElementById('scoreCircle').textContent = `${score}ì `;
   694	
   695	            // ì ìˆ˜ë³„ ë ˆì´ë¸” ë° ì„¤ëª…
   696	            let label, description;
   697	            if (score >= 90) {
   698	                label = 'ì™„ë²½í•œ ê¶í•©!';
   699	                description = 'ë‘ ë¶„ì€ ì²œìƒì—°ë¶„ì…ë‹ˆë‹¤. ì„œë¡œë¥¼ ì™„ë²½í•˜ê²Œ ë³´ì™„í•˜ëŠ” ìµœê³ ì˜ ìƒì„±ì…ë‹ˆë‹¤.';
   700	            } else if (score >= 75) {
   701	                label = 'ë§¤ìš° ì¢‹ì€ ê¶í•©!';
   702	                description = 'ë‘ ë¶„ì€ ì„œë¡œë¥¼ ì˜ ì´í•´í•˜ê³  ë°°ë ¤í•  ìˆ˜ ìˆëŠ” ì¢‹ì€ ìƒì„±ì…ë‹ˆë‹¤.';
   703	            } else if (score >= 60) {
   704	                label = 'ì¢‹ì€ ê¶í•©';
   705	                description = 'ì „ë°˜ì ìœ¼ë¡œ ì¢‹ì€ ê¶í•©ì…ë‹ˆë‹¤. ì„œë¡œ ë…¸ë ¥í•œë‹¤ë©´ í–‰ë³µí•œ ê´€ê³„ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.';
   706	            } else if (score >= 40) {
   707	                label = 'ë³´í†µ ê¶í•©';
   708	                description = 'ë…¸ë ¥ì´ í•„ìš”í•œ ê´€ê³„ì…ë‹ˆë‹¤. ì„œë¡œì˜ ì°¨ì´ë¥¼ ì´í•´í•˜ê³  ì¡´ì¤‘í•œë‹¤ë©´ ì¢‹ì€ ê´€ê³„ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.';
   709	            } else {
   710	                label = 'ì£¼ì˜ í•„ìš”';
   711	                description = 'ë§ì€ ë…¸ë ¥ê³¼ ì´í•´ê°€ í•„ìš”í•œ ê´€ê³„ì…ë‹ˆë‹¤. ì„œë¡œë¥¼ ê¹Šì´ ì•Œì•„ê°€ëŠ” ì‹œê°„ì´ í•„ìš”í•©ë‹ˆë‹¤.';
   712	            }
   713	
   714	            document.getElementById('scoreLabel').textContent = label;
   715	            document.getElementById('scoreDescription').textContent = description;
   716	
   717	            // ì¥ì  ë¦¬ìŠ¤íŠ¸
   718	            const strengths = getCompatibilityStrengths(score, type);
   719	            document.getElementById('strengthList').innerHTML = strengths.map(s => `<li>${s}</li>`).join('');
   720	
   721	            // ì£¼ì˜ì‚¬í•­ ë¦¬ìŠ¤íŠ¸
   722	            const weaknesses = getCompatibilityWeaknesses(score, type);
   723	            document.getElementById('weaknessList').innerHTML = weaknesses.map(w => `<li>${w}</li>`).join('');
   724	
   725	            // ì¡°ì–¸
   726	            const advice = getCompatibilityAdvice(score, type);
   727	            document.getElementById('adviceText').textContent = advice;
   728	        }
   729	
   730	        function getCompatibilityStrengths(score, type) {
   731	            const strengths = [];
   732	            
   733	            if (score >= 70) {
   734	                strengths.push('ì˜¤í–‰ì˜ ê· í˜•ì´ ì˜ ë§ì•„ ì„œë¡œë¥¼ ë³´ì™„í•´ì¤ë‹ˆë‹¤');
   735	                strengths.push('ì„±ê²©ì´ ì˜ ë§ì•„ ê°ˆë“±ì´ ì ì„ ê²ƒì…ë‹ˆë‹¤');
   736	                strengths.push('ì„œë¡œì—ê²Œ ê¸ì •ì ì¸ ì˜í–¥ì„ ì£¼ëŠ” ê´€ê³„ì…ë‹ˆë‹¤');
   737	            } else if (score >= 50) {
   738	                strengths.push('ì„œë¡œ ë‹¤ë¥¸ ì ì´ ë§¤ë ¥ìœ¼ë¡œ ì‘ìš©í•©ë‹ˆë‹¤');
   739	                strengths.push('í•¨ê»˜ ì„±ì¥í•  ìˆ˜ ìˆëŠ” ê´€ê³„ì…ë‹ˆë‹¤');
   740	            } else {
   741	                strengths.push('ì°¨ì´ë¥¼ í†µí•´ ë°°ìš¸ ì ì´ ë§ì€ ê´€ê³„ì…ë‹ˆë‹¤');
   742	            }
   743	
   744	            if (type === 'marriage') {
   745	                strengths.push('ê°€ì •ì„ ê¾¸ë¦¬ëŠ” ë° ìˆì–´ ì¢‹ì€ ì¡°í™”ë¥¼ ì´ë£¹ë‹ˆë‹¤');
   746	            } else if (type === 'business') {
   747	                strengths.push('ì„œë¡œì˜ ëŠ¥ë ¥ì´ ì‹œë„ˆì§€ë¥¼ ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤');
   748	            }
   749	
   750	            return strengths;
   751	        }
   752	
   753	        function getCompatibilityWeaknesses(score, type) {
   754	            const weaknesses = [];
   755	
   756	            if (score < 60) {
   757	                weaknesses.push('ê°€ë” ì˜ê²¬ ì¶©ëŒì´ ìˆì„ ìˆ˜ ìˆìœ¼ë‹ˆ ëŒ€í™”ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤');
   758	                weaknesses.push('ì„œë¡œì˜ ì°¨ì´ë¥¼ ì¡´ì¤‘í•˜ëŠ” ìì„¸ê°€ í•„ìš”í•©ë‹ˆë‹¤');
   759	                weaknesses.push('ì¸ë‚´ì‹¬ì„ ê°€ì§€ê³  ì„œë¡œë¥¼ ì´í•´í•˜ë ¤ëŠ” ë…¸ë ¥ì´ í•„ìš”í•©ë‹ˆë‹¤');
   760	            } else {
   761	                weaknesses.push('ë„ˆë¬´ ë¹„ìŠ·í•´ì„œ ë°œì „ì´ ë”ë”œ ìˆ˜ ìˆìœ¼ë‹ˆ ìê·¹ì´ í•„ìš”í•©ë‹ˆë‹¤');
   762	                weaknesses.push('ì„œë¡œì—ê²Œ ìµìˆ™í•´ì§€ë©´ ì†Œí™€í•´ì§ˆ ìˆ˜ ìˆìœ¼ë‹ˆ ì£¼ì˜í•˜ì„¸ìš”');
   763	            }
   764	
   765	            return weaknesses;
   766	        }
   767	
   768	        function getCompatibilityAdvice(score, type) {
   769	            if (type === 'love') {
   770	                if (score >= 70) {
   771	                    return 'ì¢‹ì€ ê¶í•©ì´ë‹ˆ ì„œë¡œë¥¼ ë¯¿ê³  ê¾¸ì¤€íˆ ì‚¬ë‘ì„ í‚¤ì›Œê°€ì„¸ìš”. ì‘ì€ ê´€ì‹¬ê³¼ ë°°ë ¤ê°€ í° í–‰ë³µì„ ë§Œë“­ë‹ˆë‹¤.';
   772	                } else {
   773	                    return 'ì„œë¡œì˜ ì°¨ì´ë¥¼ ì¸ì •í•˜ê³  ì¡´ì¤‘í•˜ëŠ” ìì„¸ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤. ì •ê¸°ì ì¸ ë°ì´íŠ¸ì™€ ëŒ€í™” ì‹œê°„ì„ ê°€ì§€ì„¸ìš”.';
   774	                }
   775	            } else if (type === 'marriage') {
   776	                if (score >= 70) {
   777	                    return 'ê²°í˜¼ í›„ì—ë„ í–‰ë³µí•œ ê°€ì •ì„ ê¾¸ë¦´ ìˆ˜ ìˆëŠ” ì¢‹ì€ ê¶í•©ì…ë‹ˆë‹¤. ì„œë¡œë¥¼ ìœ„í•œ ì‹œê°„ì„ ì¶©ë¶„íˆ ê°€ì§€ì„¸ìš”.';
   778	                } else {
   779	                    return 'ê²°í˜¼ì€ íƒ€í˜‘ê³¼ ì´í•´ì˜ ì—°ì†ì…ë‹ˆë‹¤. ì„œë¡œì˜ ê°€ì¹˜ê´€ì„ ì¡´ì¤‘í•˜ê³  í•¨ê»˜ ì„±ì¥í•˜ëŠ” ìì„¸ê°€ í•„ìš”í•©ë‹ˆë‹¤.';
   780	                }
   781	            } else {
   782	                if (score >= 70) {
   783	                    return 'ë¹„ì¦ˆë‹ˆìŠ¤ íŒŒíŠ¸ë„ˆë¡œì„œ ì¢‹ì€ ì‹œë„ˆì§€ë¥¼ ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëª…í™•í•œ ì—­í•  ë¶„ë‹´ê³¼ ì†Œí†µì´ ì„±ê³µì˜ ì—´ì‡ ì…ë‹ˆë‹¤.';
   784	                } else {
   785	                    return 'ì„œë¡œì˜ ê°•ì ì„ ì‚´ë¦¬ê³  ì•½ì ì„ ë³´ì™„í•˜ëŠ” ì „ëµì´ í•„ìš”í•©ë‹ˆë‹¤. ëª…í™•í•œ ê³„ì•½ê³¼ ê·œì¹™ì„ ì •í•˜ì„¸ìš”.';
   786	                }
   787	            }
   788	        }
   789	    </script>
        <!-- ê³ ê¸‰ UI & ë‹¤í¬ ëª¨ë“œ -->
    <script src="js/theme-manager.js"></script>

   790	</body>
   791	</html>
   792	
