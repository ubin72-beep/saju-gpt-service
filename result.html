<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‚¬ì£¼íŒ”ì ê²°ê³¼ - AI ì‚¬ì£¼ ì²œë…„ì§€ê¸°</title>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Malgun Gothic', sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
        }
        
        /* ë„¤ë¹„ê²Œì´ì…˜ */
        .navbar {
            background: #1a1a1a;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .nav-brand {
            color: #d4af37;
            font-size: 1.5rem;
            font-weight: 700;
            text-decoration: none;
        }
        
        .nav-links a {
            color: rgba(255,255,255,0.9);
            text-decoration: none;
            margin-left: 2rem;
            transition: color 0.3s;
        }
        
        .nav-links a:hover {
            color: #d4af37;
        }
        
        /* ê²°ê³¼ í—¤ë” */
        .result-header {
            background: linear-gradient(135deg, #1a1a1a 0%, #8b0000 50%, #c41e3a 100%);
            color: white;
            padding: 60px 20px;
            text-align: center;
        }
        
        .result-header h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }
        
        .result-header .user-info {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        /* ë©”ì¸ ì»¨í…ì¸  */
        .result-container {
            max-width: 1000px;
            margin: -40px auto 60px;
            padding: 0 20px;
        }
        
        .result-card {
            background: white;
            border-radius: 20px;
            padding: 3rem;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }
        
        .section-title {
            font-size: 1.8rem;
            color: #1a1a1a;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 3px solid #d4af37;
            font-weight: 700;
        }
        
        .saju-table {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .saju-column {
            text-align: center;
            padding: 1.5rem;
            background: linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 100%);
            border-radius: 10px;
            border: 2px solid #d4af37;
        }
        
        .saju-column h3 {
            font-size: 1.1rem;
            color: #c41e3a;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        
        .saju-column .hanja {
            font-size: 2rem;
            font-weight: 700;
            color: #1a1a1a;
            margin: 0.5rem 0;
        }
        
        .saju-column .element {
            font-size: 0.9rem;
            color: #666;
        }
        
        .analysis-section {
            margin-top: 2rem;
        }
        
        .analysis-item {
            padding: 1.5rem;
            background: #f9f9f9;
            border-radius: 10px;
            margin-bottom: 1rem;
            border-left: 4px solid #d4af37;
        }
        
        .analysis-item h4 {
            font-size: 1.2rem;
            color: #c41e3a;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        
        .analysis-item p {
            color: #333;
            line-height: 1.8;
        }
        
        .fortune-bar {
            margin-top: 1rem;
        }
        
        .fortune-bar-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }
        
        .fortune-bar-bg {
            height: 30px;
            background: #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
        }
        
        .fortune-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #d4af37, #f4e5b5);
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            color: #1a1a1a;
            font-weight: 700;
            transition: width 1s ease;
        }
        
        /* ì•¡ì…˜ ë²„íŠ¼ */
        .action-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 3rem;
        }
        
        .action-btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            transition: all 0.3s;
            display: inline-block;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #c41e3a, #8b0000);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(196,30,58,0.4);
        }
        
        .btn-secondary {
            background: white;
            color: #c41e3a;
            border: 2px solid #c41e3a;
        }
        
        .btn-secondary:hover {
            background: #c41e3a;
            color: white;
        }
        
        .btn-gold {
            background: linear-gradient(135deg, #d4af37, #f4e5b5);
            color: #1a1a1a;
        }
        
        .btn-gold:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(212,175,55,0.5);
        }
        
        /* í‘¸í„° */
        .footer {
            background: #1a1a1a;
            color: rgba(255,255,255,0.7);
            padding: 40px 20px;
            text-align: center;
        }
        
        /* ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .saju-table {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .result-card {
                padding: 2rem 1.5rem;
            }
            
            .result-header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <!-- ë„¤ë¹„ê²Œì´ì…˜ -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-brand">
                â˜¯ AI ì‚¬ì£¼ ì²œë…„ì§€ê¸°
            </a>
            <div class="nav-links">
                <a href="index.html">í™ˆ</a>
                <a href="pricing.html">ê°€ê²©í‘œ</a>
                <a href="mypage.html">ë§ˆì´í˜ì´ì§€</a>
            </div>
        </div>
    </nav>

    <!-- ê²°ê³¼ í—¤ë” -->
    <section class="result-header">
        <h1>ğŸ´ ì‚¬ì£¼íŒ”ì ê²°ê³¼</h1>
        <div class="user-info" id="userInfo">
            ìƒë…„ì›”ì¼: <span id="birthdate">-</span> (<span id="calendar">-</span>) | 
            ì„±ë³„: <span id="gender">-</span>
        </div>
    </section>

    <!-- ê²°ê³¼ ì»¨í…ì¸  -->
    <div class="result-container">
        <!-- ì‚¬ì£¼íŒ”ì -->
        <div class="result-card">
            <h2 class="section-title">â­ ë‹¹ì‹ ì˜ ì‚¬ì£¼íŒ”ì</h2>
            <div class="saju-table">
                <div class="saju-column">
                    <h3>æ™‚æŸ± (ì‹œì£¼)</h3>
                    <div class="hanja" id="time-sky">ç”²</div>
                    <div class="hanja" id="time-ground">å­</div>
                    <div class="element" id="time-element">æœ¨ æ°´</div>
                </div>
                <div class="saju-column">
                    <h3>æ—¥æŸ± (ì¼ì£¼)</h3>
                    <div class="hanja" id="day-sky">ä¸™</div>
                    <div class="hanja" id="day-ground">åˆ</div>
                    <div class="element" id="day-element">ç« ç«</div>
                </div>
                <div class="saju-column">
                    <h3>æœˆæŸ± (ì›”ì£¼)</h3>
                    <div class="hanja" id="month-sky">æˆŠ</div>
                    <div class="hanja" id="month-ground">å¯…</div>
                    <div class="element" id="month-element">åœŸ æœ¨</div>
                </div>
                <div class="saju-column">
                    <h3>å¹´æŸ± (ì—°ì£¼)</h3>
                    <div class="hanja" id="year-sky">åºš</div>
                    <div class="hanja" id="year-ground">ç”³</div>
                    <div class="element" id="year-element">é‡‘ é‡‘</div>
                </div>
            </div>
        </div>

        <!-- ì¼ê°„ ë¶„ì„ -->
        <div class="result-card">
            <h2 class="section-title">ğŸ‘¤ ì¼ê°„ (æ—¥å¹²) ë¶„ì„</h2>
            <div class="analysis-section">
                <div class="analysis-item">
                    <h4 id="day-master-title">ğŸ”¥ ë‹¹ì‹ ì˜ ì¼ê°„: ä¸™ç« (ë³‘í™”)</h4>
                    <p id="day-master-desc">ë³‘í™”ëŠ” íƒœì–‘ì˜ ë¶ˆê³¼ ê°™ì€ ì„±ê²©ìœ¼ë¡œ, ë°ê³  ê¸ì •ì ì´ë©° ë¦¬ë”ì‹­ì´ ê°•í•©ë‹ˆë‹¤.</p>
                </div>
            </div>
        </div>

        <!-- ì˜¤í–‰ ë¶„ì„ -->
        <div class="result-card">
            <h2 class="section-title">ğŸ“Š ì˜¤í–‰ (äº”è¡Œ) ê· í˜•</h2>
            <div class="analysis-section">
                <div class="fortune-bar" data-element="æœ¨">
                    <div class="fortune-bar-label">
                        <span>ğŸŒ³ æœ¨ (ëª©)</span>
                        <span class="percent">20%</span>
                    </div>
                    <div class="fortune-bar-bg">
                        <div class="fortune-bar-fill" style="width: 20%;">20%</div>
                    </div>
                </div>
                <div class="fortune-bar" data-element="ç«">
                    <div class="fortune-bar-label">
                        <span>ğŸ”¥ ç« (í™”)</span>
                        <span class="percent">35%</span>
                    </div>
                    <div class="fortune-bar-bg">
                        <div class="fortune-bar-fill" style="width: 35%;">35%</div>
                    </div>
                </div>
                <div class="fortune-bar" data-element="åœŸ">
                    <div class="fortune-bar-label">
                        <span>ğŸ”ï¸ åœŸ (í† )</span>
                        <span class="percent">15%</span>
                    </div>
                    <div class="fortune-bar-bg">
                        <div class="fortune-bar-fill" style="width: 15%;">15%</div>
                    </div>
                </div>
                <div class="fortune-bar" data-element="é‡‘">
                    <div class="fortune-bar-label">
                        <span>âš™ï¸ é‡‘ (ê¸ˆ)</span>
                        <span class="percent">20%</span>
                    </div>
                    <div class="fortune-bar-bg">
                        <div class="fortune-bar-fill" style="width: 20%;">20%</div>
                    </div>
                </div>
                <div class="fortune-bar" data-element="æ°´">
                    <div class="fortune-bar-label">
                        <span>ğŸ’§ æ°´ (ìˆ˜)</span>
                        <span class="percent">10%</span>
                    </div>
                    <div class="fortune-bar-bg">
                        <div class="fortune-bar-fill" style="width: 10%;">10%</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ì•¡ì…˜ ë²„íŠ¼ -->
        <div class="action-buttons">
            <a href="index.html" class="action-btn btn-secondary">
                ğŸ  í™ˆìœ¼ë¡œ
            </a>
            <a href="pricing.html" class="action-btn btn-gold">
                ğŸ‘‘ í”„ë¦¬ë¯¸ì—„ ë¶„ì„
            </a>
            <a href="ai-chat.html" class="action-btn btn-primary">
                ğŸ¤– AI ìƒë‹´í•˜ê¸°
            </a>
        </div>
    </div>

    <!-- í‘¸í„° -->
    <footer class="footer">
        <p>Â© 2025 AI ì‚¬ì£¼ ì²œë…„ì§€ê¸°. All rights reserved.</p>
    </footer>

    <script>
        // ===== ì‚¬ì£¼ ê³„ì‚° ì‹œìŠ¤í…œ (ì™„ì „ ë…ë¦½) =====
        
        const CHEONGAN = ['ç”²', 'ä¹™', 'ä¸™', 'ä¸', 'æˆŠ', 'å·±', 'åºš', 'è¾›', 'å£¬', 'ç™¸'];
        const CHEONGAN_NAMES = ['ê°‘', 'ì„', 'ë³‘', 'ì •', 'ë¬´', 'ê¸°', 'ê²½', 'ì‹ ', 'ì„', 'ê³„'];
        const JIJI = ['å­', 'ä¸‘', 'å¯…', 'å¯', 'è¾°', 'å·³', 'åˆ', 'æœª', 'ç”³', 'é…‰', 'æˆŒ', 'äº¥'];
        const JIJI_NAMES = ['ì', 'ì¶•', 'ì¸', 'ë¬˜', 'ì§„', 'ì‚¬', 'ì˜¤', 'ë¯¸', 'ì‹ ', 'ìœ ', 'ìˆ ', 'í•´'];
        
        const ELEMENTS = {
            'ç”²': 'æœ¨', 'ä¹™': 'æœ¨',
            'ä¸™': 'ç«', 'ä¸': 'ç«',
            'æˆŠ': 'åœŸ', 'å·±': 'åœŸ',
            'åºš': 'é‡‘', 'è¾›': 'é‡‘',
            'å£¬': 'æ°´', 'ç™¸': 'æ°´',
            'å­': 'æ°´', 'ä¸‘': 'åœŸ', 'å¯…': 'æœ¨', 'å¯': 'æœ¨', 
            'è¾°': 'åœŸ', 'å·³': 'ç«', 'åˆ': 'ç«', 'æœª': 'åœŸ',
            'ç”³': 'é‡‘', 'é…‰': 'é‡‘', 'æˆŒ': 'åœŸ', 'äº¥': 'æ°´'
        };
        
        // ìŒë ¥ ë°ì´í„° (1900-2100ë…„)
        const LUNAR_DATA = [
            0x04bd8,0x04ae0,0x0a570,0x054d5,0x0d260,0x0d950,0x16554,0x056a0,0x09ad0,0x055d2,
            0x04ae0,0x0a5b6,0x0a4d0,0x0d250,0x1d255,0x0b540,0x0d6a0,0x0ada2,0x095b0,0x14977,
            0x04970,0x0a4b0,0x0b4b5,0x06a50,0x06d40,0x1ab54,0x02b60,0x09570,0x052f2,0x04970,
            0x06566,0x0d4a0,0x0ea50,0x06e95,0x05ad0,0x02b60,0x186e3,0x092e0,0x1c8d7,0x0c950,
            0x0d4a0,0x1d8a6,0x0b550,0x056a0,0x1a5b4,0x025d0,0x092d0,0x0d2b2,0x0a950,0x0b557
        ];
        
        // ìŒë ¥ â†’ ì–‘ë ¥ ë³€í™˜ (ê°„ë‹¨í•œ ë°©ì‹)
        function lunarToSolar(year, month, day) {
            // ê¸°ë³¸ì ìœ¼ë¡œ ì–‘ë ¥ìœ¼ë¡œ ì‚¬ìš© (ì •í™•í•œ ë³€í™˜ì€ Lunar ë¼ì´ë¸ŒëŸ¬ë¦¬ í•„ìš”)
            // ê·¼ì‚¬ì¹˜: ìŒë ¥ ë‚ ì§œì— ì•½ 30ì¼ ì¶”ê°€
            let solarMonth = month;
            let solarDay = day + 30;
            let solarYear = year;
            
            if (solarDay > 28) {
                solarMonth++;
                solarDay -= 28;
            }
            
            if (solarMonth > 12) {
                solarYear++;
                solarMonth -= 12;
            }
            
            return { year: solarYear, month: solarMonth, day: solarDay };
        }
        
        // ë…„ì£¼ ê³„ì‚°
        function calculateYearPillar(year, month, day) {
            let sajuYear = year;
            // ì…ì¶˜ ì „ì´ë©´ ì „ë…„ë„ë¡œ ê³„ì‚°
            if (month === 1 || (month === 2 && day < 4)) {
                sajuYear = year - 1;
            }
            
            const baseYear = 1924; // ç”²å­ë…„
            let offset = sajuYear - baseYear;
            while (offset < 0) offset += 60;
            offset = offset % 60;
            
            return {
                cheongan: CHEONGAN[offset % 10],
                jiji: JIJI[offset % 12],
                cheongName: CHEONGAN_NAMES[offset % 10],
                jijiName: JIJI_NAMES[offset % 12]
            };
        }
        
        // ì›”ì£¼ ê³„ì‚°
        function calculateMonthPillar(year, month, day, yearPillar) {
            // ì›”ê±´ ê³„ì‚° ê³µì‹
            const yearGanIndex = CHEONGAN.indexOf(yearPillar.cheongan);
            
            // ì›”ì§€ëŠ” ìŒë ¥ ê¸°ì¤€
            const monthJiIndex = (month + 1) % 12;
            
            // ì›”ê°„ ê³„ì‚°
            const monthGanIndex = (yearGanIndex * 2 + month) % 10;
            
            return {
                cheongan: CHEONGAN[monthGanIndex],
                jiji: JIJI[monthJiIndex],
                cheongName: CHEONGAN_NAMES[monthGanIndex],
                jijiName: JIJI_NAMES[monthJiIndex]
            };
        }
        
        // ì¼ì£¼ ê³„ì‚°
        function calculateDayPillar(year, month, day) {
            // 1900ë…„ 1ì›” 1ì¼ = åºšè¾°ì¼
            const baseDate = new Date(1900, 0, 1);
            const targetDate = new Date(year, month - 1, day);
            const diffDays = Math.floor((targetDate - baseDate) / (1000 * 60 * 60 * 24));
            
            const baseGanIndex = 6;  // åºš
            const baseJiIndex = 4;   // è¾°
            
            let ganIndex = (baseGanIndex + diffDays) % 10;
            let jiIndex = (baseJiIndex + diffDays) % 12;
            
            if (ganIndex < 0) ganIndex += 10;
            if (jiIndex < 0) jiIndex += 12;
            
            return {
                cheongan: CHEONGAN[ganIndex],
                jiji: JIJI[jiIndex],
                cheongName: CHEONGAN_NAMES[ganIndex],
                jijiName: JIJI_NAMES[jiIndex]
            };
        }
        
        // ì‹œì£¼ ê³„ì‚°
        function calculateHourPillar(dayCheongan, hour) {
            const dayCheongIndex = CHEONGAN.indexOf(dayCheongan);
            
            // ì‹œê°„ì„ ì§€ì§€ë¡œ ë³€í™˜
            let hourJijiIndex;
            if (hour >= 23 || hour < 1) {
                hourJijiIndex = 0; // å­æ™‚ (23:00-00:59)
            } else if (hour >= 1 && hour < 3) {
                hourJijiIndex = 1; // ä¸‘æ™‚
            } else if (hour >= 3 && hour < 5) {
                hourJijiIndex = 2; // å¯…æ™‚
            } else if (hour >= 5 && hour < 7) {
                hourJijiIndex = 3; // å¯æ™‚
            } else if (hour >= 7 && hour < 9) {
                hourJijiIndex = 4; // è¾°æ™‚
            } else if (hour >= 9 && hour < 11) {
                hourJijiIndex = 5; // å·³æ™‚
            } else if (hour >= 11 && hour < 13) {
                hourJijiIndex = 6; // åˆæ™‚
            } else if (hour >= 13 && hour < 15) {
                hourJijiIndex = 7; // æœªæ™‚
            } else if (hour >= 15 && hour < 17) {
                hourJijiIndex = 8; // ç”³æ™‚
            } else if (hour >= 17 && hour < 19) {
                hourJijiIndex = 9; // é…‰æ™‚
            } else if (hour >= 19 && hour < 21) {
                hourJijiIndex = 10; // æˆŒæ™‚
            } else {
                hourJijiIndex = 11; // äº¥æ™‚
            }
            
            // ì‹œê°„ì˜ ì²œê°„ ê³„ì‚°
            const dayGanIndex = dayCheongIndex % 5;
            const hourGanStart = dayGanIndex * 2;
            const hourCheongIndex = (hourGanStart + hourJijiIndex) % 10;
            
            return {
                cheongan: CHEONGAN[hourCheongIndex],
                jiji: JIJI[hourJijiIndex],
                cheongName: CHEONGAN_NAMES[hourCheongIndex],
                jijiName: JIJI_NAMES[hourJijiIndex]
            };
        }
        
        // localStorageì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
        const sajuData = JSON.parse(localStorage.getItem('sajuData') || '{}');
        console.log('ğŸ“¦ ì‚¬ì£¼ ë°ì´í„°:', sajuData);
        
        if (sajuData.birthdate) {
            document.getElementById('birthdate').textContent = sajuData.birthdate;
            document.getElementById('calendar').textContent = sajuData.calendar === 'solar' ? 'ì–‘ë ¥' : 'ìŒë ¥';
            document.getElementById('gender').textContent = sajuData.gender === 'male' ? 'ë‚¨ì„±' : 'ì—¬ì„±';
            
            // ë‚ ì§œ íŒŒì‹±
            let [year, month, day] = sajuData.birthdate.split('-').map(Number);
            const hour = parseInt(sajuData.hour || 12);
            const isLunar = sajuData.calendar === 'lunar';
            
            console.log('ğŸ“… ì…ë ¥:', { year, month, day, hour, isLunar });
            
            // ìŒë ¥ â†’ ì–‘ë ¥ ë³€í™˜
            if (isLunar) {
                const solar = lunarToSolar(year, month, day);
                year = solar.year;
                month = solar.month;
                day = solar.day;
                console.log('âœ… ìŒë ¥â†’ì–‘ë ¥:', solar);
            }
            
            // ì‚¬ì£¼ ê³„ì‚°
            const yearPillar = calculateYearPillar(year, month, day);
            const monthPillar = calculateMonthPillar(year, month, day, yearPillar);
            const dayPillar = calculateDayPillar(year, month, day);
            const hourPillar = calculateHourPillar(dayPillar.cheongan, hour);
            
            console.log('ğŸ´ ì‚¬ì£¼:', {
                ë…„ì£¼: yearPillar.cheongan + yearPillar.jiji,
                ì›”ì£¼: monthPillar.cheongan + monthPillar.jiji,
                ì¼ì£¼: dayPillar.cheongan + dayPillar.jiji,
                ì‹œì£¼: hourPillar.cheongan + hourPillar.jiji
            });
            
            // ë…„ì£¼ í‘œì‹œ
            document.getElementById('year-sky').textContent = yearPillar.cheongan;
            document.getElementById('year-ground').textContent = yearPillar.jiji;
            document.getElementById('year-element').textContent = ELEMENTS[yearPillar.cheongan] + ' ' + ELEMENTS[yearPillar.jiji];
            
            // ì›”ì£¼ í‘œì‹œ
            document.getElementById('month-sky').textContent = monthPillar.cheongan;
            document.getElementById('month-ground').textContent = monthPillar.jiji;
            document.getElementById('month-element').textContent = ELEMENTS[monthPillar.cheongan] + ' ' + ELEMENTS[monthPillar.jiji];
            
            // ì¼ì£¼ í‘œì‹œ
            document.getElementById('day-sky').textContent = dayPillar.cheongan;
            document.getElementById('day-ground').textContent = dayPillar.jiji;
            document.getElementById('day-element').textContent = ELEMENTS[dayPillar.cheongan] + ' ' + ELEMENTS[dayPillar.jiji];
            
            // ì‹œì£¼ í‘œì‹œ
            document.getElementById('time-sky').textContent = hourPillar.cheongan;
            document.getElementById('time-ground').textContent = hourPillar.jiji;
            document.getElementById('time-element').textContent = ELEMENTS[hourPillar.cheongan] + ' ' + ELEMENTS[hourPillar.jiji];
            
            // ì¼ê°„ í‘œì‹œ
            const dayMaster = dayPillar.cheongan;
            const dayMasterElement = ELEMENTS[dayMaster];
            const elementEmoji = {'æœ¨': 'ğŸŒ³', 'ç«': 'ğŸ”¥', 'åœŸ': 'ğŸ”ï¸', 'é‡‘': 'âš™ï¸', 'æ°´': 'ğŸ’§'};
            
            document.getElementById('day-master-title').innerHTML = 
                `${elementEmoji[dayMasterElement]} ë‹¹ì‹ ì˜ ì¼ê°„: ${dayMaster}${dayMasterElement} (${dayPillar.cheongName}${dayMasterElement})`;
            
            // ì¼ê°„ ì„¤ëª…
            const dayMasterDescriptions = {
                'ç”²': 'ê°‘ëª©ì€ í° ë‚˜ë¬´ì™€ ê°™ì€ ì„±ê²©ìœ¼ë¡œ, ê³§ê³  ì •ì§í•˜ë©° ë¦¬ë”ì‹­ì´ ê°•í•©ë‹ˆë‹¤.',
                'ä¹™': 'ì„ëª©ì€ ë©êµ´ê³¼ ê°™ì€ ì„±ê²©ìœ¼ë¡œ, ìœ ì—°í•˜ê³  ì ì‘ë ¥ì´ ë›°ì–´ë‚©ë‹ˆë‹¤.',
                'ä¸™': 'ë³‘í™”ëŠ” íƒœì–‘ì˜ ë¶ˆê³¼ ê°™ì€ ì„±ê²©ìœ¼ë¡œ, ë°ê³  ê¸ì •ì ì´ë©° ë¦¬ë”ì‹­ì´ ê°•í•©ë‹ˆë‹¤.',
                'ä¸': 'ì •í™”ëŠ” ì´›ë¶ˆê³¼ ê°™ì€ ì„±ê²©ìœ¼ë¡œ, ì„¸ì‹¬í•˜ê³  ë”°ëœ»í•œ ë§ˆìŒì„ ê°€ì¡ŒìŠµë‹ˆë‹¤.',
                'æˆŠ': 'ë¬´í† ëŠ” ì‚°ê³¼ ê°™ì€ ì„±ê²©ìœ¼ë¡œ, ì•ˆì •ì ì´ê³  ë¯¿ìŒì§í•©ë‹ˆë‹¤.',
                'å·±': 'ê¸°í† ëŠ” ëŒ€ì§€ì™€ ê°™ì€ ì„±ê²©ìœ¼ë¡œ, í¬ìš©ë ¥ì´ í¬ê³  ì‹¤ìš©ì ì…ë‹ˆë‹¤.',
                'åºš': 'ê²½ê¸ˆì€ ë°”ìœ„ì™€ ê°™ì€ ì„±ê²©ìœ¼ë¡œ, ê°•ì§í•˜ê³  ì˜ì§€ê°€ ê°•í•©ë‹ˆë‹¤.',
                'è¾›': 'ì‹ ê¸ˆì€ ë³´ì„ê³¼ ê°™ì€ ì„±ê²©ìœ¼ë¡œ, ì„¸ë ¨ë˜ê³  ì˜ˆë¯¼í•©ë‹ˆë‹¤.',
                'å£¬': 'ì„ìˆ˜ëŠ” í° ê°•ê³¼ ê°™ì€ ì„±ê²©ìœ¼ë¡œ, í™œë™ì ì´ê³  ì§€í˜œë¡­ìŠµë‹ˆë‹¤.',
                'ç™¸': 'ê³„ìˆ˜ëŠ” ë¹—ë¬¼ê³¼ ê°™ì€ ì„±ê²©ìœ¼ë¡œ, ì„¬ì„¸í•˜ê³  í†µì°°ë ¥ì´ ë›°ì–´ë‚©ë‹ˆë‹¤.'
            };
            
            document.getElementById('day-master-desc').textContent = dayMasterDescriptions[dayMaster];
            
            // ì˜¤í–‰ ê· í˜• ê³„ì‚°
            const elementCount = {'æœ¨': 0, 'ç«': 0, 'åœŸ': 0, 'é‡‘': 0, 'æ°´': 0};
            
            [yearPillar.cheongan, yearPillar.jiji,
             monthPillar.cheongan, monthPillar.jiji,
             dayPillar.cheongan, dayPillar.jiji,
             hourPillar.cheongan, hourPillar.jiji].forEach(char => {
                const element = ELEMENTS[char];
                if (element) elementCount[element]++;
            });
            
            console.log('ğŸ”¢ ì˜¤í–‰ ê°œìˆ˜:', elementCount);
            
            // í¼ì„¼íŠ¸ ê³„ì‚°
            const elementPercent = {};
            Object.keys(elementCount).forEach(key => {
                elementPercent[key] = Math.round((elementCount[key] / 8) * 100);
            });
            
            console.log('ğŸ“Š ì˜¤í–‰ ë¹„ìœ¨:', elementPercent);
            
            // ì˜¤í–‰ ë§‰ëŒ€ ì—…ë°ì´íŠ¸
            document.querySelectorAll('.fortune-bar').forEach(bar => {
                const element = bar.getAttribute('data-element');
                const percent = elementPercent[element];
                bar.querySelector('.percent').textContent = `${percent}%`;
                bar.querySelector('.fortune-bar-fill').style.width = `${percent}%`;
                bar.querySelector('.fortune-bar-fill').textContent = `${percent}%`;
            });
            
            console.log('âœ… ì‚¬ì£¼ ê³„ì‚° ì™„ë£Œ');
        } else {
            console.log('âš ï¸ localStorageì— ë°ì´í„° ì—†ìŒ');
        }
        
        // ë§‰ëŒ€ ì• ë‹ˆë©”ì´ì…˜
        window.addEventListener('load', function() {
            setTimeout(() => {
                const bars = document.querySelectorAll('.fortune-bar-fill');
                bars.forEach(bar => {
                    const width = bar.style.width;
                    bar.style.width = '0';
                    setTimeout(() => { bar.style.width = width; }, 100);
                });
            }, 500);
        });
    </script>
</body>
</html>
