 1	<!DOCTYPE html>
     2	<html lang="ko">
     3	<head>
     4	    <meta charset="UTF-8">
     5	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     6	    <title>ì‚¬ì£¼íŒ”ì ê²°ê³¼ - AI ì‚¬ì£¼ ì²œë…„ì§€ê¸°</title>
     7	    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
     8	    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;600;700&family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
     9	    
    10	    <!-- Lunar Calendar Library -->
    11	    <script src="https://cdn.jsdelivr.net/npm/lunar-javascript@1.6.12/lunar.min.js"></script>
    12	    
    13	    <style>
    14	        * {
    15	            margin: 0;
    16	            padding: 0;
    17	            box-sizing: border-box;
    18	        }
    19	        
    20	        body {
    21	            font-family: 'Noto Sans KR', sans-serif;
    22	            line-height: 1.6;
    23	            color: #333;
    24	            background: #f5f5f5;
    25	        }
    26	        
    27	        /* ë„¤ë¹„ê²Œì´ì…˜ */
    28	        .navbar {
    29	            background: #1a1a1a;
    30	            padding: 1rem 0;
    31	            position: sticky;
    32	            top: 0;
    33	            z-index: 1000;
    34	            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
    35	        }
    36	        
    37	        .nav-container {
    38	            max-width: 1200px;
    39	            margin: 0 auto;
    40	            padding: 0 20px;
    41	            display: flex;
    42	            justify-content: space-between;
    43	            align-items: center;
    44	        }
    45	        
    46	        .nav-brand {
    47	            color: #d4af37;
    48	            font-size: 1.5rem;
    49	            font-weight: 700;
    50	            text-decoration: none;
    51	        }
    52	        
    53	        .nav-links a {
    54	            color: rgba(255,255,255,0.9);
    55	            text-decoration: none;
    56	            margin-left: 2rem;
    57	            transition: color 0.3s;
    58	        }
    59	        
    60	        .nav-links a:hover {
    61	            color: #d4af37;
    62	        }
    63	        
    64	        /* ê²°ê³¼ í—¤ë” */
    65	        .result-header {
    66	            background: linear-gradient(135deg, #1a1a1a 0%, #8b0000 50%, #c41e3a 100%);
    67	            color: white;
    68	            padding: 60px 20px;
    69	            text-align: center;
    70	        }
    71	        
    72	        .result-header h1 {
    73	            font-size: 2.5rem;
    74	            margin-bottom: 1rem;
    75	            font-family: 'Noto Serif KR', serif;
    76	        }
    77	        
    78	        .result-header .user-info {
    79	            font-size: 1.2rem;
    80	            opacity: 0.9;
    81	        }
    82	        
    83	        /* ë©”ì¸ ì»¨í…ì¸  */
    84	        .result-container {
    85	            max-width: 1000px;
    86	            margin: -40px auto 60px;
    87	            padding: 0 20px;
    88	        }
    89	        
    90	        .result-card {
    91	            background: white;
    92	            border-radius: 20px;
    93	            padding: 3rem;
    94	            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
    95	            margin-bottom: 2rem;
    96	        }
    97	        
    98	        .section-title {
    99	            font-size: 1.8rem;
   100	            color: #1a1a1a;
   101	            margin-bottom: 1.5rem;
   102	            padding-bottom: 1rem;
   103	            border-bottom: 3px solid #d4af37;
   104	            font-family: 'Noto Serif KR', serif;
   105	        }
   106	        
   107	        .saju-table {
   108	            display: grid;
   109	            grid-template-columns: repeat(4, 1fr);
   110	            gap: 1rem;
   111	            margin-bottom: 2rem;
   112	        }
   113	        
   114	        .saju-column {
   115	            text-align: center;
   116	            padding: 1.5rem;
   117	            background: linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 100%);
   118	            border-radius: 10px;
   119	            border: 2px solid #d4af37;
   120	        }
   121	        
   122	        .saju-column h3 {
   123	            font-size: 1.1rem;
   124	            color: #c41e3a;
   125	            margin-bottom: 0.5rem;
   126	        }
   127	        
   128	        .saju-column .hanja {
   129	            font-size: 2rem;
   130	            font-weight: 700;
   131	            color: #1a1a1a;
   132	            margin: 0.5rem 0;
   133	            font-family: 'Noto Serif KR', serif;
   134	        }
   135	        
   136	        .saju-column .element {
   137	            font-size: 0.9rem;
   138	            color: #666;
   139	        }
   140	        
   141	        .analysis-section {
   142	            margin-top: 2rem;
   143	        }
   144	        
   145	        .analysis-item {
   146	            padding: 1.5rem;
   147	            background: #f9f9f9;
   148	            border-radius: 10px;
   149	            margin-bottom: 1rem;
   150	            border-left: 4px solid #d4af37;
   151	        }
   152	        
   153	        .analysis-item h4 {
   154	            font-size: 1.2rem;
   155	            color: #c41e3a;
   156	            margin-bottom: 0.5rem;
   157	        }
   158	        
   159	        .analysis-item p {
   160	            color: #333;
   161	            line-height: 1.8;
   162	        }
   163	        
   164	        .fortune-bar {
   165	            margin-top: 1rem;
   166	        }
   167	        
   168	        .fortune-bar-label {
   169	            display: flex;
   170	            justify-content: space-between;
   171	            margin-bottom: 0.5rem;
   172	            font-size: 0.9rem;
   173	        }
   174	        
   175	        .fortune-bar-bg {
   176	            height: 30px;
   177	            background: #e0e0e0;
   178	            border-radius: 15px;
   179	            overflow: hidden;
   180	        }
   181	        
   182	        .fortune-bar-fill {
   183	            height: 100%;
   184	            background: linear-gradient(90deg, #d4af37, #f4e5b5);
   185	            display: flex;
   186	            align-items: center;
   187	            justify-content: flex-end;
   188	            padding-right: 10px;
   189	            color: #1a1a1a;
   190	            font-weight: 700;
   191	            transition: width 1s ease;
   192	        }
   193	        
   194	        /* ì•¡ì…˜ ë²„íŠ¼ */
   195	        .action-buttons {
   196	            display: grid;
   197	            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
   198	            gap: 1rem;
   199	            margin-top: 3rem;
   200	        }
   201	        
   202	        .action-btn {
   203	            padding: 15px 30px;
   204	            border: none;
   205	            border-radius: 10px;
   206	            font-size: 1.1rem;
   207	            font-weight: 600;
   208	            cursor: pointer;
   209	            text-decoration: none;
   210	            text-align: center;
   211	            transition: all 0.3s;
   212	            display: inline-block;
   213	        }
   214	        
   215	        .btn-primary {
   216	            background: linear-gradient(135deg, #c41e3a, #8b0000);
   217	            color: white;
   218	        }
   219	        
   220	        .btn-primary:hover {
   221	            transform: translateY(-3px);
   222	            box-shadow: 0 10px 30px rgba(196,30,58,0.4);
   223	        }
   224	        
   225	        .btn-secondary {
   226	            background: white;
   227	            color: #c41e3a;
   228	            border: 2px solid #c41e3a;
   229	        }
   230	        
   231	        .btn-secondary:hover {
   232	            background: #c41e3a;
   233	            color: white;
   234	        }
   235	        
   236	        .btn-gold {
   237	            background: linear-gradient(135deg, #d4af37, #f4e5b5);
   238	            color: #1a1a1a;
   239	        }
   240	        
   241	        .btn-gold:hover {
   242	            transform: translateY(-3px);
   243	            box-shadow: 0 10px 30px rgba(212,175,55,0.5);
   244	        }
   245	        
   246	        /* í‘¸í„° */
   247	        .footer {
   248	            background: #1a1a1a;
   249	            color: rgba(255,255,255,0.7);
   250	            padding: 40px 20px;
   251	            text-align: center;
   252	        }
   253	        
   254	        /* ë°˜ì‘í˜• */
   255	        @media (max-width: 768px) {
   256	            .saju-table {
   257	                grid-template-columns: repeat(2, 1fr);
   258	            }
   259	            
   260	            .result-card {
   261	                padding: 2rem 1.5rem;
   262	            }
   263	        }
   264	    </style>
   265	</head>
   266	<body>
   267	    <!-- ë„¤ë¹„ê²Œì´ì…˜ -->
   268	    <nav class="navbar">
   269	        <div class="nav-container">
   270	            <a href="index.html" class="nav-brand">
   271	                <i class="fas fa-yin-yang"></i> AI ì‚¬ì£¼ ì²œë…„ì§€ê¸°
   272	            </a>
   273	            <div class="nav-links">
   274	                <a href="index.html">í™ˆ</a>
   275	                <a href="pricing.html">ê°€ê²©í‘œ</a>
   276	                <a href="mypage.html">ë§ˆì´í˜ì´ì§€</a>
   277	            </div>
   278	        </div>
   279	    </nav>
   280	
   281	    <!-- ê²°ê³¼ í—¤ë” -->
   282	    <section class="result-header">
   283	        <h1>ğŸ´ ì‚¬ì£¼íŒ”ì ê²°ê³¼</h1>
   284	        <div class="user-info" id="userInfo">
   285	            ìƒë…„ì›”ì¼: <span id="birthdate"></span> (<span id="calendar"></span>) | 
   286	            ì„±ë³„: <span id="gender"></span>
   287	        </div>
   288	    </section>
   289	
   290	    <!-- ê²°ê³¼ ì»¨í…ì¸  -->
   291	    <div class="result-container">
   292	        <!-- ì‚¬ì£¼íŒ”ì -->
   293	        <div class="result-card">
   294	            <h2 class="section-title"><i class="fas fa-star"></i> ë‹¹ì‹ ì˜ ì‚¬ì£¼íŒ”ì</h2>
   295	            <div class="saju-table">
   296	                <div class="saju-column">
   297	                    <h3>æ™‚æŸ± (ì‹œì£¼)</h3>
   298	                    <div class="hanja" id="time-sky">ç”²</div>
   299	                    <div class="hanja" id="time-ground">å­</div>
   300	                    <div class="element" id="time-element">æœ¨ æ°´</div>
   301	                </div>
   302	                <div class="saju-column">
   303	                    <h3>æ—¥æŸ± (ì¼ì£¼)</h3>
   304	                    <div class="hanja" id="day-sky">ä¸™</div>
   305	                    <div class="hanja" id="day-ground">åˆ</div>
   306	                    <div class="element" id="day-element">ç« ç«</div>
   307	                </div>
   308	                <div class="saju-column">
   309	                    <h3>æœˆæŸ± (ì›”ì£¼)</h3>
   310	                    <div class="hanja" id="month-sky">æˆŠ</div>
   311	                    <div class="hanja" id="month-ground">å¯…</div>
   312	                    <div class="element" id="month-element">åœŸ æœ¨</div>
   313	                </div>
   314	                <div class="saju-column">
   315	                    <h3>å¹´æŸ± (ì—°ì£¼)</h3>
   316	                    <div class="hanja" id="year-sky">åºš</div>
   317	                    <div class="hanja" id="year-ground">ç”³</div>
   318	                    <div class="element" id="year-element">é‡‘ é‡‘</div>
   319	                </div>
   320	            </div>
   321	        </div>
   322	
   323	        <!-- ì¼ê°„ ë¶„ì„ -->
   324	        <div class="result-card">
   325	            <h2 class="section-title"><i class="fas fa-user"></i> ì¼ê°„ (æ—¥å¹²) ë¶„ì„</h2>
   326	            <div class="analysis-section">
   327	                <div class="analysis-item">
   328	                    <h4 id="day-master-title">ğŸ”¥ ë‹¹ì‹ ì˜ ì¼ê°„: ä¸™ç« (ë³‘í™”)</h4>
   329	                    <p id="day-master-desc">ë³‘í™”ëŠ” íƒœì–‘ì˜ ë¶ˆê³¼ ê°™ì€ ì„±ê²©ìœ¼ë¡œ, ë°ê³  ê¸ì •ì ì´ë©° ë¦¬ë”ì‹­ì´ ê°•í•©ë‹ˆë‹¤.</p>
   330	                </div>
   331	            </div>
   332	        </div>
   333	
   334	        <!-- ì˜¤í–‰ ë¶„ì„ -->
   335	        <div class="result-card">
   336	            <h2 class="section-title"><i class="fas fa-chart-pie"></i> ì˜¤í–‰ (äº”è¡Œ) ê· í˜•</h2>
   337	            <div class="analysis-section">
   338	                <div class="fortune-bar" data-element="æœ¨">
   339	                    <div class="fortune-bar-label">
   340	                        <span>ğŸŒ³ æœ¨ (ëª©)</span>
   341	                        <span class="percent">20%</span>
   342	                    </div>
   343	                    <div class="fortune-bar-bg">
   344	                        <div class="fortune-bar-fill" style="width: 20%;">20%</div>
   345	                    </div>
   346	                </div>
   347	                <div class="fortune-bar" data-element="ç«">
   348	                    <div class="fortune-bar-label">
   349	                        <span>ğŸ”¥ ç« (í™”)</span>
   350	                        <span class="percent">35%</span>
   351	                    </div>
   352	                    <div class="fortune-bar-bg">
   353	                        <div class="fortune-bar-fill" style="width: 35%;">35%</div>
   354	                    </div>
   355	                </div>
   356	                <div class="fortune-bar" data-element="åœŸ">
   357	                    <div class="fortune-bar-label">
   358	                        <span>ğŸ”ï¸ åœŸ (í† )</span>
   359	                        <span class="percent">15%</span>
   360	                    </div>
   361	                    <div class="fortune-bar-bg">
   362	                        <div class="fortune-bar-fill" style="width: 15%;">15%</div>
   363	                    </div>
   364	                </div>
   365	                <div class="fortune-bar" data-element="é‡‘">
   366	                    <div class="fortune-bar-label">
   367	                        <span>âš™ï¸ é‡‘ (ê¸ˆ)</span>
   368	                        <span class="percent">20%</span>
   369	                    </div>
   370	                    <div class="fortune-bar-bg">
   371	                        <div class="fortune-bar-fill" style="width: 20%;">20%</div>
   372	                    </div>
   373	                </div>
   374	                <div class="fortune-bar" data-element="æ°´">
   375	                    <div class="fortune-bar-label">
   376	                        <span>ğŸ’§ æ°´ (ìˆ˜)</span>
   377	                        <span class="percent">10%</span>
   378	                    </div>
   379	                    <div class="fortune-bar-bg">
   380	                        <div class="fortune-bar-fill" style="width: 10%;">10%</div>
   381	                    </div>
   382	                </div>
   383	            </div>
   384	        </div>
   385	
   386	        <!-- ì•¡ì…˜ ë²„íŠ¼ -->
   387	        <div class="action-buttons">
   388	            <a href="index.html" class="action-btn btn-secondary">
   389	                <i class="fas fa-home"></i> í™ˆìœ¼ë¡œ
   390	            </a>
   391	            <a href="pricing.html" class="action-btn btn-gold">
   392	                <i class="fas fa-crown"></i> í”„ë¦¬ë¯¸ì—„ ë¶„ì„
   393	            </a>
   394	            <a href="ai-chat.html" class="action-btn btn-primary">
   395	                <i class="fas fa-robot"></i> AI ìƒë‹´í•˜ê¸°
   396	            </a>
   397	        </div>
   398	    </div>
   399	
   400	    <!-- í‘¸í„° -->
   401	    <footer class="footer">
   402	        <p>Â© 2025 AI ì‚¬ì£¼ ì²œë…„ì§€ê¸°. All rights reserved.</p>
   403	    </footer>
   404	
   405	    <script>
   406	        // ì‚¬ì£¼ ê³„ì‚° ì½”ë“œ (INLINE)
   407	        const CHEONGAN = ['ç”²', 'ä¹™', 'ä¸™', 'ä¸', 'æˆŠ', 'å·±', 'åºš', 'è¾›', 'å£¬', 'ç™¸'];
   408	        const CHEONGAN_NAMES = ['ê°‘', 'ì„', 'ë³‘', 'ì •', 'ë¬´', 'ê¸°', 'ê²½', 'ì‹ ', 'ì„', 'ê³„'];
   409	        const JIJI = ['å­', 'ä¸‘', 'å¯…', 'å¯', 'è¾°', 'å·³', 'åˆ', 'æœª', 'ç”³', 'é…‰', 'æˆŒ', 'äº¥'];
   410	        const JIJI_NAMES = ['ì', 'ì¶•', 'ì¸', 'ë¬˜', 'ì§„', 'ì‚¬', 'ì˜¤', 'ë¯¸', 'ì‹ ', 'ìœ ', 'ìˆ ', 'í•´'];
   411	        
   412	        const ELEMENTS = {
   413	            'ç”²': 'æœ¨', 'ä¹™': 'æœ¨',
   414	            'ä¸™': 'ç«', 'ä¸': 'ç«',
   415	            'æˆŠ': 'åœŸ', 'å·±': 'åœŸ',
   416	            'åºš': 'é‡‘', 'è¾›': 'é‡‘',
   417	            'å£¬': 'æ°´', 'ç™¸': 'æ°´',
   418	            'å­': 'æ°´', 'ä¸‘': 'åœŸ', 'å¯…': 'æœ¨', 'å¯': 'æœ¨', 
   419	            'è¾°': 'åœŸ', 'å·³': 'ç«', 'åˆ': 'ç«', 'æœª': 'åœŸ',
   420	            'ç”³': 'é‡‘', 'é…‰': 'é‡‘', 'æˆŒ': 'åœŸ', 'äº¥': 'æ°´'
   421	        };
   422	        
   423	        function calculateYearPillar(year, month, day) {
   424	            let sajuYear = year;
   425	            if (month === 1 || (month === 2 && day < 4)) {
   426	                sajuYear = year - 1;
   427	            }
   428	            
   429	            const baseYear = 1924;
   430	            let offset = sajuYear - baseYear;
   431	            while (offset < 0) offset += 60;
   432	            offset = offset % 60;
   433	            
   434	            return {
   435	                cheongan: CHEONGAN[offset % 10],
   436	                jiji: JIJI[offset % 12],
   437	                cheongName: CHEONGAN_NAMES[offset % 10],
   438	                jijiName: JIJI_NAMES[offset % 12]
   439	            };
   440	        }
   441	        
   442	        function calculateMonthPillar(year, month, day, yearPillar) {
   443	            // Lunar ë¼ì´ë¸ŒëŸ¬ë¦¬ ìš°ì„  ì‚¬ìš©
   444	            if (typeof Lunar !== 'undefined' && typeof Solar !== 'undefined') {
   445	                try {
   446	                    const solar = Solar.fromYmd(year, month, day);
   447	                    const lunar = solar.getLunar();
   448	                    const ganZhi = lunar.getMonthInGanZhi();
   449	                    
   450	                    const gan = ganZhi[0];
   451	                    const ji = ganZhi[1];
   452	                    const ganIndex = CHEONGAN.indexOf(gan);
   453	                    const jiIndex = JIJI.indexOf(ji);
   454	                    
   455	                    if (ganIndex >= 0 && jiIndex >= 0) {
   456	                        console.log(`âœ… Lunar ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì›”ì£¼ ê³„ì‚°: ${ganZhi}`);
   457	                        return {
   458	                            cheongan: gan,
   459	                            jiji: ji,
   460	                            cheongName: CHEONGAN_NAMES[ganIndex],
   461	                            jijiName: JIJI_NAMES[jiIndex]
   462	                        };
   463	                    }
   464	                } catch (e) {
   465	                    console.warn('âš ï¸ Lunar ë¼ì´ë¸ŒëŸ¬ë¦¬ ì›”ì£¼ ê³„ì‚° ì‹¤íŒ¨:', e);
   466	                }
   467	            }
   468	            
   469	            // ëŒ€ì²´ ë°©ì‹: ê°„ë‹¨í•œ ì›”ì£¼ ê³„ì‚°
   470	            const monthJiIndex = (month + 1) % 12;
   471	            const yearGanIndex = CHEONGAN.indexOf(yearPillar.cheongan);
   472	            const monthGanIndex = (yearGanIndex * 2 + month) % 10;
   473	            
   474	            return {
   475	                cheongan: CHEONGAN[monthGanIndex],
   476	                jiji: JIJI[monthJiIndex],
   477	                cheongName: CHEONGAN_NAMES[monthGanIndex],
   478	                jijiName: JIJI_NAMES[monthJiIndex]
   479	            };
   480	        }
   481	        
   482	        function calculateHourPillar(dayCheongan, hour) {
   483	            const dayCheongIndex = CHEONGAN.indexOf(dayCheongan);
   484	            console.log('ğŸ• ì‹œì£¼ ê³„ì‚° - ì¼ê°„:', dayCheongan, 'ì‹œê°„:', hour);
   485	            
   486	            // ì‹œê°„ì„ ì§€ì§€ë¡œ ë³€í™˜ (23-01ì‹œ=å­, 01-03ì‹œ=ä¸‘, ...)
   487	            let hourJijiIndex;
   488	            if (hour >= 23 || hour < 1) {
   489	                hourJijiIndex = 0; // å­æ™‚ (23:00-00:59)
   490	            } else if (hour >= 1 && hour < 3) {
   491	                hourJijiIndex = 1; // ä¸‘æ™‚ (01:00-02:59)
   492	            } else if (hour >= 3 && hour < 5) {
   493	                hourJijiIndex = 2; // å¯…æ™‚ (03:00-04:59)
   494	            } else if (hour >= 5 && hour < 7) {
   495	                hourJijiIndex = 3; // å¯æ™‚ (05:00-06:59)
   496	            } else if (hour >= 7 && hour < 9) {
   497	                hourJijiIndex = 4; // è¾°æ™‚ (07:00-08:59)
   498	            } else if (hour >= 9 && hour < 11) {
   499	                hourJijiIndex = 5; // å·³æ™‚ (09:00-10:59)
   500	            } else if (hour >= 11 && hour < 13) {
   501	                hourJijiIndex = 6; // åˆæ™‚ (11:00-12:59)
   502	            } else if (hour >= 13 && hour < 15) {
   503	                hourJijiIndex = 7; // æœªæ™‚ (13:00-14:59)
   504	            } else if (hour >= 15 && hour < 17) {
   505	                hourJijiIndex = 8; // ç”³æ™‚ (15:00-16:59)
   506	            } else if (hour >= 17 && hour < 19) {
   507	                hourJijiIndex = 9; // é…‰æ™‚ (17:00-18:59)
   508	            } else if (hour >= 19 && hour < 21) {
   509	                hourJijiIndex = 10; // æˆŒæ™‚ (19:00-20:59)
   510	            } else {
   511	                hourJijiIndex = 11; // äº¥æ™‚ (21:00-22:59)
   512	            }
   513	            
   514	            // ì‹œê°„ì˜ ì²œê°„ ê³„ì‚° (ì¼ê°„ì— ë”°ë¥¸ ì‹œì£¼ ì²œê°„ ë°°ì •)
   515	            // ç”²å·±æ—¥ â†’ ç”²å­æ™‚ë¶€í„° ì‹œì‘
   516	            // ä¹™åºšæ—¥ â†’ ä¸™å­æ™‚ë¶€í„° ì‹œì‘
   517	            // ä¸™è¾›æ—¥ â†’ æˆŠå­æ™‚ë¶€í„° ì‹œì‘
   518	            // ä¸å£¬æ—¥ â†’ åºšå­æ™‚ë¶€í„° ì‹œì‘
   519	            // æˆŠç™¸æ—¥ â†’ å£¬å­æ™‚ë¶€í„° ì‹œì‘
   520	            const dayGanIndex = dayCheongIndex % 5;
   521	            const hourGanStart = dayGanIndex * 2; // ì‹œì‘ ì²œê°„ (ç”²=0, ä¸™=2, æˆŠ=4, åºš=6, å£¬=8)
   522	            const hourCheongIndex = (hourGanStart + hourJijiIndex) % 10;
   523	            
   524	            const result = {
   525	                cheongan: CHEONGAN[hourCheongIndex],
   526	                jiji: JIJI[hourJijiIndex],
   527	                cheongName: CHEONGAN_NAMES[hourCheongIndex],
   528	                jijiName: JIJI_NAMES[hourJijiIndex]
   529	            };
   530	            
   531	            console.log('âœ… ì‹œì£¼ ê³„ì‚° ì™„ë£Œ:', result.cheongan + result.jiji, `(${result.cheongName}${result.jijiName})`);
   532	            return result;
   533	        }
   534	        
   535	        function calculateDayPillar(year, month, day) {
   536	            // Lunar ë¼ì´ë¸ŒëŸ¬ë¦¬ ìš°ì„  ì‚¬ìš©
   537	            if (typeof Lunar !== 'undefined' && typeof Solar !== 'undefined') {
   538	                try {
   539	                    const solar = Solar.fromYmd(year, month, day);
   540	                    const lunar = solar.getLunar();
   541	                    const ganZhi = lunar.getDayInGanZhi();
   542	                    
   543	                    const gan = ganZhi[0];
   544	                    const ji = ganZhi[1];
   545	                    const ganIndex = CHEONGAN.indexOf(gan);
   546	                    const jiIndex = JIJI.indexOf(ji);
   547	                    
   548	                    if (ganIndex >= 0 && jiIndex >= 0) {
   549	                        console.log(`âœ… Lunar ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì¼ì£¼ ê³„ì‚°: ${ganZhi}`);
   550	                        return {
   551	                            cheongan: gan,
   552	                            jiji: ji,
   553	                            cheongName: CHEONGAN_NAMES[ganIndex],
   554	                            jijiName: JIJI_NAMES[jiIndex]
   555	                        };
   556	                    }
   557	                } catch (e) {
   558	                    console.warn('âš ï¸ Lunar ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© ì‹¤íŒ¨, ìˆ˜ë™ ê³„ì‚° ì‚¬ìš©:', e);
   559	                }
   560	            }
   561	            
   562	            // ëŒ€ì²´ ë°©ì‹: ìˆ˜ë™ ê³„ì‚°
   563	            console.warn('âš ï¸ Lunar ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—†ìŒ, ìˆ˜ë™ ê³„ì‚° ì‚¬ìš©');
   564	            const baseDate = new Date(1900, 0, 1);
   565	            const targetDate = new Date(year, month - 1, day);
   566	            const diffDays = Math.floor((targetDate - baseDate) / (1000 * 60 * 60 * 24));
   567	            
   568	            const baseGanIndex = 6;  // åºš
   569	            const baseJiIndex = 4;   // è¾°
   570	            
   571	            let ganIndex = (baseGanIndex + diffDays) % 10;
   572	            let jiIndex = (baseJiIndex + diffDays) % 12;
   573	            
   574	            if (ganIndex < 0) ganIndex += 10;
   575	            if (jiIndex < 0) jiIndex += 12;
   576	            
   577	            return {
   578	                cheongan: CHEONGAN[ganIndex],
   579	                jiji: JIJI[jiIndex],
   580	                cheongName: CHEONGAN_NAMES[ganIndex],
   581	                jijiName: JIJI_NAMES[jiIndex]
   582	            };
   583	        }
   584	        
   585	        // localStorageì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
   586	        const sajuData = JSON.parse(localStorage.getItem('sajuData') || '{}');
   587	        console.log('ğŸ“¦ ì‚¬ì£¼ ë°ì´í„°:', sajuData);
   588	        
   589	        if (sajuData.birthdate) {
   590	            document.getElementById('birthdate').textContent = sajuData.birthdate;
   591	            document.getElementById('calendar').textContent = sajuData.calendar === 'solar' ? 'ì–‘ë ¥' : 'ìŒë ¥';
   592	            document.getElementById('gender').textContent = sajuData.gender === 'male' ? 'ë‚¨ì„±' : 'ì—¬ì„±';
   593	            
   594	            // ë‚ ì§œ íŒŒì‹±
   595	            const [year, month, day] = sajuData.birthdate.split('-').map(Number);
   596	            const hour = parseInt(sajuData.hour || 12);
   597	            const isLunar = sajuData.calendar === 'lunar';
   598	            
   599	            console.log('ğŸ“… ì…ë ¥:', { year, month, day, hour, isLunar });
   600	            
   601	            // ìŒë ¥ â†’ ì–‘ë ¥ ë³€í™˜
   602	            let solarYear = year, solarMonth = month, solarDay = day;
   603	            
   604	            if (isLunar && typeof Lunar !== 'undefined') {
   605	                try {
   606	                    const lunar = Lunar.fromYmd(year, month, day);
   607	                    const solar = lunar.getSolar();
   608	                    solarYear = solar.getYear();
   609	                    solarMonth = solar.getMonth();
   610	                    solarDay = solar.getDay();
   611	                    console.log('âœ… ìŒë ¥â†’ì–‘ë ¥:', `${year}-${month}-${day} â†’ ${solarYear}-${solarMonth}-${solarDay}`);
   612	                } catch (e) {
   613	                    console.error('âŒ ìŒë ¥ ë³€í™˜ ì‹¤íŒ¨:', e);
   614	                }
   615	            }
   616	            
   617	            // ì‚¬ì£¼ ê³„ì‚°
   618	            const yearPillar = calculateYearPillar(solarYear, solarMonth, solarDay);
   619	            const monthPillar = calculateMonthPillar(solarYear, solarMonth, solarDay, yearPillar);
   620	            const dayPillar = calculateDayPillar(solarYear, solarMonth, solarDay);
   621	            const hourPillar = calculateHourPillar(dayPillar.cheongan, hour);
   622	            
   623	            // ë…„ì£¼ í‘œì‹œ
   624	            document.getElementById('year-sky').textContent = yearPillar.cheongan;
   625	            document.getElementById('year-ground').textContent = yearPillar.jiji;
   626	            document.getElementById('year-element').textContent = ELEMENTS[yearPillar.cheongan] + ' ' + ELEMENTS[yearPillar.jiji];
   627	            
   628	            // ì›”ì£¼ í‘œì‹œ
   629	            document.getElementById('month-sky').textContent = monthPillar.cheongan;
   630	            document.getElementById('month-ground').textContent = monthPillar.jiji;
   631	            document.getElementById('month-element').textContent = ELEMENTS[monthPillar.cheongan] + ' ' + ELEMENTS[monthPillar.jiji];
   632	            
   633	            // ì¼ì£¼ í‘œì‹œ
   634	            document.getElementById('day-sky').textContent = dayPillar.cheongan;
   635	            document.getElementById('day-ground').textContent = dayPillar.jiji;
   636	            document.getElementById('day-element').textContent = ELEMENTS[dayPillar.cheongan] + ' ' + ELEMENTS[dayPillar.jiji];
   637	            
   638	            // ì‹œì£¼ í‘œì‹œ
   639	            document.getElementById('time-sky').textContent = hourPillar.cheongan;
   640	            document.getElementById('time-ground').textContent = hourPillar.jiji;
   641	            document.getElementById('time-element').textContent = ELEMENTS[hourPillar.cheongan] + ' ' + ELEMENTS[hourPillar.jiji];
   642	            
   643	            // ì¼ê°„ í‘œì‹œ
   644	            const dayMaster = dayPillar.cheongan;
   645	            const dayMasterElement = ELEMENTS[dayMaster];
   646	            const elementEmoji = {'æœ¨': 'ğŸŒ³', 'ç«': 'ğŸ”¥', 'åœŸ': 'ğŸ”ï¸', 'é‡‘': 'âš™ï¸', 'æ°´': 'ğŸ’§'};
   647	            
   648	            document.getElementById('day-master-title').innerHTML = 
   649	                `${elementEmoji[dayMasterElement]} ë‹¹ì‹ ì˜ ì¼ê°„: ${dayMaster}${dayMasterElement} (${dayPillar.cheongName}${dayMasterElement})`;
   650	            
   651	            // ì¼ê°„ ì„¤ëª… ì—…ë°ì´íŠ¸
   652	            const dayMasterDescriptions = {
   653	                'ç”²': 'ê°‘ëª©ì€ í° ë‚˜ë¬´ì™€ ê°™ì€ ì„±ê²©ìœ¼ë¡œ, ê³§ê³  ì •ì§í•˜ë©° ë¦¬ë”ì‹­ì´ ê°•í•©ë‹ˆë‹¤.',
   654	                'ä¹™': 'ì„ëª©ì€ ë©êµ´ê³¼ ê°™ì€ ì„±ê²©ìœ¼ë¡œ, ìœ ì—°í•˜ê³  ì ì‘ë ¥ì´ ë›°ì–´ë‚©ë‹ˆë‹¤.',
   655	                'ä¸™': 'ë³‘í™”ëŠ” íƒœì–‘ì˜ ë¶ˆê³¼ ê°™ì€ ì„±ê²©ìœ¼ë¡œ, ë°ê³  ê¸ì •ì ì´ë©° ë¦¬ë”ì‹­ì´ ê°•í•©ë‹ˆë‹¤.',
   656	                'ä¸': 'ì •í™”ëŠ” ì´›ë¶ˆê³¼ ê°™ì€ ì„±ê²©ìœ¼ë¡œ, ì„¸ì‹¬í•˜ê³  ë”°ëœ»í•œ ë§ˆìŒì„ ê°€ì¡ŒìŠµë‹ˆë‹¤.',
   657	                'æˆŠ': 'ë¬´í† ëŠ” ì‚°ê³¼ ê°™ì€ ì„±ê²©ìœ¼ë¡œ, ì•ˆì •ì ì´ê³  ë¯¿ìŒì§í•©ë‹ˆë‹¤.',
   658	                'å·±': 'ê¸°í† ëŠ” ëŒ€ì§€ì™€ ê°™ì€ ì„±ê²©ìœ¼ë¡œ, í¬ìš©ë ¥ì´ í¬ê³  ì‹¤ìš©ì ì…ë‹ˆë‹¤.',
   659	                'åºš': 'ê²½ê¸ˆì€ ë°”ìœ„ì™€ ê°™ì€ ì„±ê²©ìœ¼ë¡œ, ê°•ì§í•˜ê³  ì˜ì§€ê°€ ê°•í•©ë‹ˆë‹¤.',
   660	                'è¾›': 'ì‹ ê¸ˆì€ ë³´ì„ê³¼ ê°™ì€ ì„±ê²©ìœ¼ë¡œ, ì„¸ë ¨ë˜ê³  ì˜ˆë¯¼í•©ë‹ˆë‹¤.',
   661	                'å£¬': 'ì„ìˆ˜ëŠ” í° ê°•ê³¼ ê°™ì€ ì„±ê²©ìœ¼ë¡œ, í™œë™ì ì´ê³  ì§€í˜œë¡­ìŠµë‹ˆë‹¤.',
   662	                'ç™¸': 'ê³„ìˆ˜ëŠ” ë¹—ë¬¼ê³¼ ê°™ì€ ì„±ê²©ìœ¼ë¡œ, ì„¬ì„¸í•˜ê³  í†µì°°ë ¥ì´ ë›°ì–´ë‚©ë‹ˆë‹¤.'
   663	            };
   664	            
   665	            document.getElementById('day-master-desc').textContent = dayMasterDescriptions[dayMaster];
   666	            
   667	            // ì˜¤í–‰ ê· í˜• ê³„ì‚°
   668	            const elementCount = {'æœ¨': 0, 'ç«': 0, 'åœŸ': 0, 'é‡‘': 0, 'æ°´': 0};
   669	            
   670	            // ì‚¬ì£¼íŒ”ìì˜ 8ê¸€ìì—ì„œ ì˜¤í–‰ ì¹´ìš´íŠ¸
   671	            [yearPillar.cheongan, yearPillar.jiji,
   672	             monthPillar.cheongan, monthPillar.jiji,
   673	             dayPillar.cheongan, dayPillar.jiji,
   674	             hourPillar.cheongan, hourPillar.jiji].forEach(char => {
   675	                const element = ELEMENTS[char];
   676	                if (element) elementCount[element]++;
   677	            });
   678	            
   679	            console.log('ğŸ”¢ ì˜¤í–‰ ê°œìˆ˜:', elementCount);
   680	            
   681	            // í¼ì„¼íŠ¸ ê³„ì‚°
   682	            const elementPercent = {};
   683	            Object.keys(elementCount).forEach(key => {
   684	                elementPercent[key] = Math.round((elementCount[key] / 8) * 100);
   685	            });
   686	            
   687	            console.log('ğŸ“Š ì˜¤í–‰ ë¹„ìœ¨:', elementPercent);
   688	            
   689	            // ì˜¤í–‰ ë§‰ëŒ€ ì—…ë°ì´íŠ¸
   690	            document.querySelectorAll('.fortune-bar').forEach(bar => {
   691	                const element = bar.getAttribute('data-element');
   692	                const percent = elementPercent[element];
   693	                bar.querySelector('.percent').textContent = `${percent}%`;
   694	                bar.querySelector('.fortune-bar-fill').style.width = `${percent}%`;
   695	                bar.querySelector('.fortune-bar-fill').textContent = `${percent}%`;
   696	            });
   697	            
   698	            console.log('âœ… ì‚¬ì£¼ ê³„ì‚° ì™„ë£Œ');
   699	        }
   700	        
   701	        // ë§‰ëŒ€ ì• ë‹ˆë©”ì´ì…˜
   702	        window.addEventListener('load', function() {
   703	            const bars = document.querySelectorAll('.fortune-bar-fill');
   704	            bars.forEach(bar => {
   705	                const width = bar.style.width;
   706	                bar.style.width = '0';
   707	                setTimeout(() => { bar.style.width = width; }, 100);
   708	            });
   709	        });
   710	    </script>
   711	</body>
   712	</html>
   713	
